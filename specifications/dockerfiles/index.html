



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for ISLandora Enterprise (ISLE)">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0, mkdocs-material-3.0.3">
    
    
      
        <title>Dockerfiles - ISLandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#dockerfiles" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ISLandora Enterprise (ISLE)
              </span>
              <span class="md-header-nav__topic">
                Dockerfiles
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ISLandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Install ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Install ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/host-hardware-requirements/" title="1. Hardware Requirements" class="md-nav__link">
      1. Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/host-software-dependencies/" title="2. Software Dependencies" class="md-nav__link">
      2. Software Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-demo/" title="3. Demo ISLE Installation" class="md-nav__link">
      3. Demo ISLE Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      4. ISLE Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        4. ISLE Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-environments/" title="Overview: ISLE Environments" class="md-nav__link">
      Overview: ISLE Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-local-new/" title="Local: New Site" class="md-nav__link">
      Local: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-local-migrate/" title="Local: Migrate Site" class="md-nav__link">
      Local: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-staging-new/" title="Staging: New Site" class="md-nav__link">
      Staging: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-staging-migrate/" title="Staging: Migrate Site" class="md-nav__link">
      Staging: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-production-new/" title="Production: New Site" class="md-nav__link">
      Production: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-production-migrate/" title="Production: Migrate Site" class="md-nav__link">
      Production: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-troubleshooting/" title="Troubleshooting Guide" class="md-nav__link">
      Troubleshooting Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-9" type="checkbox" id="nav-2-4-9">
    
    <label class="md-nav__link" for="nav-2-4-9">
      Optional Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-9">
        Optional Components
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/components/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/automated-testing/" title="Automated Testing" class="md-nav__link">
      Automated Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/blazegraph/" title="Blazegraph" class="md-nav__link">
      Blazegraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/loc-proxy/" title="Loc.gov Proxy" class="md-nav__link">
      Loc.gov Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/matomo/" title="Matomo Analytics Platform" class="md-nav__link">
      Matomo Analytics Platform
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/tickstack/" title="TICK Stack" class="md-nav__link">
      TICK Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../optional-components/varnish/" title="Varnish" class="md-nav__link">
      Varnish
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../update/update/" title="Update ISLE" class="md-nav__link">
      Update ISLE
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Appendices
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Appendices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/data-persistence/" title="Data Persistence in Docker" class="md-nav__link">
      Data Persistence in Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/installing-module-with-composer/" title="Installing a Drupal Module with Composer" class="md-nav__link">
      Installing a Drupal Module with Composer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/installing-module-with-drush/" title="Installing a Drupal Module with Drush" class="md-nav__link">
      Installing a Drupal Module with Drush
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://docs.google.com/document/d/1r-I9n8mUhlJ5Z-X9AO-RrikhzH6I8bTPIL25LmtRbxE" title="Installing on Google Cloud Platform (Google Doc)" class="md-nav__link">
      Installing on Google Cloud Platform (Google Doc)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/configuring-lets-encrypt/" title="Let's Encrypt: Free SSL Certificates" class="md-nav__link">
      Let's Encrypt: Free SSL Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/open-terminal-in-running-container/" title="Opening a Terminal in a Running Container" class="md-nav__link">
      Opening a Terminal in a Running Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/sample-it-department-request/" title="Sample IT Department Request Letter" class="md-nav__link">
      Sample IT Department Request Letter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/server-setups/" title="Sample Server Setups" class="md-nav__link">
      Sample Server Setups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/install-troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/redhat/" title="Warning about Red Hat Install" class="md-nav__link">
      Warning about Red Hat Install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Cookbook Recipes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Cookbook Recipes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/isle-cheatsheet-docker-commands/" title="ISLE Cheat Sheet: Docker Commands" class="md-nav__link">
      ISLE Cheat Sheet: Docker Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/multi_importer_installation/" title="Setting Up and Testing the Islandora Multi Importer (IMI) Module" class="md-nav__link">
      Setting Up and Testing the Islandora Multi Importer (IMI) Module
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/example-aws-configuration/" title="Example AWS Storage Configuration" class="md-nav__link">
      Example AWS Storage Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/boot-from-external-drive/" title="How to Boot From External Drive" class="md-nav__link">
      How to Boot From External Drive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/isle-v140-git-cleanup/" title="Cleanup ISLE git repository for Release v.1.4.0" class="md-nav__link">
      Cleanup ISLE git repository for Release v.1.4.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/previous-release-docs/" title="Finding and Using Documentation for a Previous Release" class="md-nav__link">
      Finding and Using Documentation for a Previous Release
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Specifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Specifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../resource-matrix/" title="Resource Allocation" class="md-nav__link">
      Resource Allocation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/about-isle/" title="About ISLE" class="md-nav__link">
      About ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributing/" title="Contributing to ISLE" class="md-nav__link">
      Contributing to ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Contributor Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Contributor Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/mkdocs/" title="Docs: MkDocs" class="md-nav__link">
      Docs: MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/spell-checker/" title="Docs: Spell Checker" class="md-nav__link">
      Docs: Spell Checker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/style-guide/" title="Docs: Style Guide" class="md-nav__link">
      Docs: Style Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/testing-guide/" title="Testing Guide" class="md-nav__link">
      Testing Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/get-help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/release-process/" title="Release Process" class="md-nav__link">
      Release Process
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-9/" title="Latest release: 1.5.9" class="md-nav__link">
      Latest release: 1.5.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Previous releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Previous releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-8/" title="1.5.8" class="md-nav__link">
      1.5.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-7/" title="1.5.7" class="md-nav__link">
      1.5.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-6/" title="1.5.6" class="md-nav__link">
      1.5.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-5/" title="1.5.5" class="md-nav__link">
      1.5.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-4/" title="1.5.4" class="md-nav__link">
      1.5.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-3/" title="1.5.3" class="md-nav__link">
      1.5.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-2/" title="1.5.2" class="md-nav__link">
      1.5.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-1/" title="1.5.1" class="md-nav__link">
      1.5.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-5-0/" title="1.5.0" class="md-nav__link">
      1.5.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-4-2/" title="1.4.2" class="md-nav__link">
      1.4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-4-1/" title="1.4.1" class="md-nav__link">
      1.4.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-4-0/" title="1.4.0" class="md-nav__link">
      1.4.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-3-0/" title="1.3.0" class="md-nav__link">
      1.3.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-2-0/" title="1.2.0" class="md-nav__link">
      1.2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-2/" title="1.1.2" class="md-nav__link">
      1.1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-1/" title="1.1.1" class="md-nav__link">
      1.1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-0/" title="1.1.0" class="md-nav__link">
      1.1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" title="Assumptions / Prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerfile-locations" title="Dockerfile Locations" class="md-nav__link">
    Dockerfile Locations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-dockerfiles" title="Optional Dockerfiles" class="md-nav__link">
    Optional Dockerfiles
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerfile-conventions" title="Dockerfile Conventions" class="md-nav__link">
    Dockerfile Conventions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-structure" title="Directory Structure" class="md-nav__link">
    Directory Structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerfile-composition" title="Dockerfile Composition" class="md-nav__link">
    Dockerfile Composition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerfile-commenting" title="Dockerfile Commenting" class="md-nav__link">
    Dockerfile Commenting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="dockerfiles">Dockerfiles</h1>
<p>The ISLE Images are created by the use of Dockerfiles, text documents that contain all the commands an ISLE contributor could call on the command line to assemble an image. Using docker build users e.g. ISLE Contributors or Developers can create an automated build that executes several command-line instructions in succession.</p>
<h2 id="assumptions-prerequisites">Assumptions / Prerequisites</h2>
<ul>
<li>
<p>ISLE Contributors, Developers have pre-existing knowledge or familiarity with Dockerfile</p>
</li>
<li>
<p><a href="https://docs.docker.com/engine/reference/builder/">Dockerfiles</a>, their editing process and compositions are familiar or known concepts.</p>
</li>
</ul>
<h2 id="dockerfile-locations">Dockerfile Locations</h2>
<p>These files can be found within their respective Github repository.</p>
<p>Each directory is seperated by the image / container software type and each contains a respective Dockerfile.</p>
<ul>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-apache">apache</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-fedora">fedora</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-imageservices">image-services</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-mysql">mysql</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-solr">solr</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-tomcat">tomcat</a></li>
</ul>
<p>Please note that <code>isle-proxy</code> uses an official <a href="https://github.com/traefik/traefik-library-image/blob/304f7cf2cf36f59e0bc93597579c61837ce2ea6f/scratch/Dockerfile">Traefik</a> image.</p>
<h3 id="optional-dockerfiles">Optional Dockerfiles</h3>
<ul>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-blazegraph">blazegraph</a></li>
<li><a href="https://github.com/Islandora-Collaboration-Group/isle-varnish">varnish</a></li>
</ul>
<h2 id="dockerfile-conventions">Dockerfile Conventions</h2>
<ul>
<li>
<p>Making changes within these files will alter the contents and functionality of the ISLE images.</p>
</li>
<li>
<p>Ensure that each Dockerfile does not have a file suffix or extension.</p>
</li>
<li>
<p>Each command needs to be terminated with a <code>\</code> unless it is the final command.</p>
</li>
<li>
<p>Each new command or action added will increase the size of the image once built. Attempt to balance size with functionality.</p>
</li>
<li>
<p>All ISLE images use official Docker build images. Review the <a href="../docker-containers-images/">Docker Containers &amp; Images</a> Specifications page for a listing of those builds.</p>
</li>
</ul>
<h3 id="directory-structure">Directory Structure</h3>
<p>Example is from the Apache image directory</p>
<pre><code class="bash">├── Dockerfile
├── hooks
│   └── build
├── LICENSE
├── Makefile
├── README.md
└── rootfs
    ├── etc
    │   ├── apache2
    │   │   └── conf-available
    │   │       ├── other-vhosts-access-log.conf
    │   │       ├── remoteip.conf
    │   │       └── servername.conf
    │   ├── confd
    │   │   ├── conf.d
    │   │   │   ├── apache-apache2-conf.toml
    │   │   │   ├── apache-isle-installer.toml
    │   │   │   ├── apache-settings.php.toml
    │   │   │   ├── apache-site-conf.toml
    │   │   │   ├── apache-sql.toml
    │   │   │   ├── fits-log4j.properties.toml
    │   │   │   ├── php-cli-ini.toml
    │   │   │   └── php-ini.toml
    │   │   └── templates
    │   │       ├── apache
    │   │       │   ├── apache2.conf.tpl
    │   │       │   └── site_template.conf.tpl
    │   │       ├── fits
    │   │       │   └── log4j.properties.tpl
    │   │       ├── php
    │   │       │   ├── cli.php.ini.tpl
    │   │       │   └── php.ini.tpl
    │   │       └── sql
    │   │           └── apache.sql.tpl
    │   ├── cont-init.d
    │   │   ├── 00-islandora-uid
    │   │   └── 01-confd-site-enable
    │   ├── php
    │   │   ├── 7.0
    │   │   │   └── mods-available
    │   │   │       └── imagick.ini
    │   │   ├── 7.1
    │   │   │   └── mods-available
    │   │   │       └── imagick.ini
    │   │   ├── 7.2
    │   │   │   └── mods-available
    │   │   │       └── imagick.ini
    │   │   └── 7.3
    │   │       └── mods-available
    │   │           └── imagick.ini
    │   └── services.d
    │       ├── apache
    │       │   └── run
    │       └── cron
    │           └── run
    └── usr
        └── local
            ├── adore-djatoka-1.1
            │   └── bin
            │       ├── env.sh
            │       └── log4j.properties
            └── etc
                └── ImageMagick-7
                    ├── log.xml
                    └── policy.xml

31 directories, 34 files
</code></pre>

<h2 id="dockerfile-composition">Dockerfile Composition</h2>
<p>Following <a href="https://docs.docker.com/engine/reference/builder/">standard Docker convention</a>, all ISLE Dockerfiles have similar structures. Examples displayed are from the <a href="https://github.com/Islandora-Collaboration-Group/isle-apache/blob/main/Dockerfile">Apache Dockerfile</a>.</p>
<ul>
<li>
<p>FROM command indicating which official Docker image is used as the base build.</p>
<ul>
<li>The <code>Apache</code> image uses one base image to build from as it both contains an <code>Ubuntu 20.04 LTS</code> OS and <code>Adopt-JDK 8.x</code> for Java</li>
<li><code>FROM adoptopenjdk:8-jdk-hotspot</code> is the first base image used.</li>
</ul>
</li>
<li>
<p>LABEL - For ISLE Committers to version control image descriptions, functionality and additional meta-data. (<em>optional</em>)</p>
</li>
<li>
<p>RUN - Execute commands e.g. <code>RUN apt-get update</code>, etc.</p>
</li>
<li>
<p>COPY - Within each ISLE image directory there are additional files or subdirectories are copied from the personal computer to the image itself.</p>
</li>
<li>
<p>ENV - sets any environmental variables necessary for software to run or be configured properly.</p>
</li>
<li>
<p>VOLUME - Exposes a volume for data necessary for the build to continue. e.g. <code>VOLUME /var/www/html</code></p>
</li>
<li>
<p>EXPOSE - Opens up ports (80,443) on the temporary build containers created and to persist in further usage. Can be overridden by any <code>docker-compose.yml</code> file</p>
</li>
<li>
<p>ENTRYPOINT - Allows you to configure a container that will run as an executable.</p>
</li>
<li>
<p>Within the <a href="https://github.com/Islandora-Collaboration-Group/ISLE/blob/main/apache/Dockerfile">apache Dockerfile</a>, the server is told to "run" using the <code>apache2ctl</code> utility by this last line: <code>ENTRYPOINT ["/usr/sbin/apache2ctl", "-D", "FOREGROUND"]</code></p>
</li>
</ul>
<h2 id="dockerfile-commenting">Dockerfile Commenting</h2>
<p>For ISLE Contributors when possible it is highly recommended that all sections be commented appropriately to explain functionality or actions to all Developers looking to customize or curious end users.</p>
<p>Example:</p>
<pre><code>## Apache, PHP, FFMPEG, and other Islandora Depends.
## Apache &amp;&amp; PHP 7.1 from ondrej PPA
## Per @g7morris, ghostscript from repo is OK.
RUN add-apt-repository -y ppa:ondrej/apache2 &amp;&amp; \
    add-apt-repository -y ppa:ondrej/php &amp;&amp; \
    FFMPEG_PACKS=&quot;ffmpeg \
    ffmpeg2theora \
    libavcodec-extra \
    lame \
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0",url:{base:"../.."}})</script>
      
        <script src="../../extra.js"></script>
      
    
    
      
    
  </body>
</html>