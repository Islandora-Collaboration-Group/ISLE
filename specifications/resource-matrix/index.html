



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Islandora Enterprise (ISLE)">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Resource matrix - Islandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#resource-matrix-by-isle-environment-system" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Islandora Enterprise (ISLE)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Islandora Enterprise (ISLE)
            </span>
            <span class="md-header-nav__topic">
              Resource matrix
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Islandora Enterprise (ISLE)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Islandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Install ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Install ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/host-hardware-requirements/" title="1. Hardware Requirements" class="md-nav__link">
      1. Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/host-software-dependencies/" title="2. Software Dependencies" class="md-nav__link">
      2. Software Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-demo/" title="3. Demo ISLE Installation" class="md-nav__link">
      3. Demo ISLE Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      4. ISLE Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        4. ISLE Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-environments/" title="Overview: ISLE Environments" class="md-nav__link">
      Overview: ISLE Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-local-new/" title="Local: New Site" class="md-nav__link">
      Local: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-local-migrate/" title="Local: Migrate Site" class="md-nav__link">
      Local: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-staging-new/" title="Staging: New Site" class="md-nav__link">
      Staging: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-staging-migrate/" title="Staging: Migrate Site" class="md-nav__link">
      Staging: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-production-new/" title="Production: New Site" class="md-nav__link">
      Production: New Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-production-migrate/" title="Production: Migrate Site" class="md-nav__link">
      Production: Migrate Site
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../install/install-troubleshooting/" title="Troubleshooting Guide" class="md-nav__link">
      Troubleshooting Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../update/update/" title="Update ISLE" class="md-nav__link">
      Update ISLE
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Appendices
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Appendices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/data-persistence/" title="Data Persistence in Docker" class="md-nav__link">
      Data Persistence in Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/installing-module-with-composer/" title="Installing a Drupal Module with Composer" class="md-nav__link">
      Installing a Drupal Module with Composer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/installing-module-with-drush/" title="Installing a Drupal Module with Drush" class="md-nav__link">
      Installing a Drupal Module with Drush
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://docs.google.com/document/d/1r-I9n8mUhlJ5Z-X9AO-RrikhzH6I8bTPIL25LmtRbxE" title="Installing on Google Cloud Platform (Google Doc)" class="md-nav__link">
      Installing on Google Cloud Platform (Google Doc)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/configuring-lets-encrypt/" title="Let's Encrypt: Free SSL Certificates" class="md-nav__link">
      Let's Encrypt: Free SSL Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/open-terminal-in-running-container/" title="Opening a Terminal in a Running Container" class="md-nav__link">
      Opening a Terminal in a Running Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/sample-it-department-request/" title="Sample IT Department Request Letter" class="md-nav__link">
      Sample IT Department Request Letter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/install-troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-10" type="checkbox" id="nav-4-10">
    
    <label class="md-nav__link" for="nav-4-10">
      User Stories
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-10">
        User Stories
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/user-story-demo-site/" title="Demo ISLE Installation Example User Story" class="md-nav__link">
      Demo ISLE Installation Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/user-story-new-site/" title="New Site Example User Story" class="md-nav__link">
      New Site Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/user-story-migration-site/" title="Migration Example User Story" class="md-nav__link">
      Migration Example User Story
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendices/redhat/" title="Warning about Red Hat Install" class="md-nav__link">
      Warning about Red Hat Install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Cookbook Recipes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Cookbook Recipes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cookbook-recipes/isle-cheatsheet-docker-commands/" title="ISLE Cheat Sheet: Docker Commands" class="md-nav__link">
      ISLE Cheat Sheet: Docker Commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/contributing/" title="Contributing to ISLE" class="md-nav__link">
      Contributing to ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/about-isle/" title="About ISLE" class="md-nav__link">
      About ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/committers/" title="About Committers" class="md-nav__link">
      About Committers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      Contributor Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        Contributor Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/mkdocs/" title="Docs: MkDocs" class="md-nav__link">
      Docs: MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/spell-checker/" title="Docs: Spell Checker" class="md-nav__link">
      Docs: Spell Checker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/style-guide/" title="Docs: Style Guide" class="md-nav__link">
      Docs: Style Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/release-process/" title="Release Process" class="md-nav__link">
      Release Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributor-docs/testing-guide/" title="Testing Guide" class="md-nav__link">
      Testing Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/get-help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-3-0/" title="Latest release: 1.3.0" class="md-nav__link">
      Latest release: 1.3.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Previous releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Previous releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-2-0/" title="1.2.0" class="md-nav__link">
      1.2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-2/" title="1.1.2" class="md-nav__link">
      1.1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-1/" title="1.1.1" class="md-nav__link">
      1.1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release-notes/release-1-1-0/" title="1.1.0" class="md-nav__link">
      1.1.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resource-matrix-by-isle-environment-system" title="Resource matrix by ISLE environment / system" class="md-nav__link">
    Resource matrix by ISLE environment / system
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-allocation-and-tuning-concepts" title="Memory allocation and tuning concepts" class="md-nav__link">
    Memory allocation and tuning concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-volume-ingest" title="High Volume Ingest" class="md-nav__link">
    High Volume Ingest
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#varnish-allocation-for-a-production-system" title="Varnish allocation for a Production system" class="md-nav__link">
    Varnish allocation for a Production system
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Resource matrix</h1>
                
                <p>This document is a suggested guide for allocating ISLE host resources based on your ISLE environment.</p>
<ul>
<li>
<p><strong>Please note:</strong> These are recommended defaults which sometimes include a range. Your needs may require more resources to be added. It is <strong>not recommended</strong> to go below the defaults for the Staging and Production environments.</p>
</li>
<li>
<p>For the Production and Staging storage needs, ISLE Endusers should plan on these numbers increasing over time as their collections grow.</p>
</li>
<li>
<p>It is generally recommended that Staging and Production mirror each other in size.</p>
</li>
</ul>
<hr />
<h2 id="resource-matrix-by-isle-environment-system">Resource matrix by ISLE environment / system</h2>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Demo</th>
<th>Local</th>
<th>Test</th>
<th>Staging</th>
<th>Production</th>
</tr>
</thead>
<tbody>
<tr>
<td>OS</td>
<td>Mac/Windows/Linux</td>
<td>Mac/Windows/Linux</td>
<td>Mac/Windows/Linux</td>
<td>Ubuntu / Centos</td>
<td>Ubuntu / Centos</td>
</tr>
<tr>
<td>RAM</td>
<td>4 GB</td>
<td>4 - 8+ GB</td>
<td>4 GB</td>
<td>16 GB</td>
<td>16 - 32+ GB</td>
</tr>
<tr>
<td>CPU</td>
<td>1</td>
<td>1 - 2</td>
<td>1 - 2</td>
<td>2 - 4</td>
<td>2 - 4+</td>
</tr>
<tr>
<td>Storage - OS</td>
<td>3 - 5+ GB</td>
<td>6 - 10+ GB</td>
<td>3 - 5+ GB</td>
<td>50 - 100+ GB</td>
<td>50 - 100+ GB</td>
</tr>
<tr>
<td>Storage - Fed data</td>
<td>5 - 10+ GB</td>
<td>5 - 10+ GB</td>
<td>5 - 10+ GB</td>
<td>3 - 6+ TB</td>
<td>3 - 6+ TB</td>
</tr>
</tbody>
</table>
<ul>
<li><em>For Fed data storage</em>, it is recommended that a minimum overhead of about <code>100 - 250 GB</code> of free space is kept on the disk so that Fedora's ActiveMQ system doesn't shutdown due to a lack of space. You might be able to get away with less overhead.</li>
<li><em>If using Blazegraph</em>, add an additional mandatory minimum of <code>4 GB</code> to any system's RAM resource requirements to the overall total.</li>
<li><em>If using Varnish</em>, you may find the system will be more performant if you increase the system memory by an additional <code>1 -2 GB</code> of memory to the overall total.</li>
<li>
<p><em>For Production and Staging ISLE host servers</em>, a minimum of an additional <code>4 - 8</code> GB should be used for a swapfile.</p>
</li>
<li>
<p>KEY</p>
</li>
<li><code>OS</code> = Operating System</li>
<li><code>RAM</code> = Memory</li>
<li><code>CPU</code> = Processor(s) / Cores</li>
<li><code>Fed data</code> = Fedora datastreamStore (/mnt/data/fedora/datastreamStore) storage</li>
<li><code>Storage - OS</code> includes the Docker volumes that store additional data</li>
</ul>
<hr />
<h3 id="memory-allocation-and-tuning-concepts">Memory allocation and tuning concepts</h3>
<p>The tuning and configuration of ISLE can vary based on system resources and traffic, it is recommended that you start out with the default memory allocations and test the results as you increase or decrease in key areas.</p>
<table>
<thead>
<tr>
<th>Container</th>
<th>Ranges</th>
<th>Demo</th>
<th>Local</th>
<th>Test</th>
<th>Staging</th>
<th>Production</th>
</tr>
</thead>
<tbody>
<tr>
<td>isle-fedora</td>
<td>MIN</td>
<td>128M</td>
<td>128M</td>
<td>128M</td>
<td>1024M</td>
<td>1024M</td>
</tr>
<tr>
<td></td>
<td>MAX</td>
<td>768M</td>
<td>768M</td>
<td>768M</td>
<td>4096M</td>
<td>4096M</td>
</tr>
<tr>
<td>isle-solr</td>
<td>MIN</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1024M</td>
<td>1024M</td>
</tr>
<tr>
<td></td>
<td>MAX</td>
<td>512M</td>
<td>512M</td>
<td>512M</td>
<td>2048M</td>
<td>2048M</td>
</tr>
<tr>
<td>isle-images</td>
<td>MIN</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>512M</td>
<td>512M</td>
</tr>
<tr>
<td></td>
<td>MAX</td>
<td>512M</td>
<td>512M</td>
<td>512M</td>
<td>1024M</td>
<td>1024M</td>
</tr>
<tr>
<td>isle-blazegraph</td>
<td>MIN</td>
<td>1024M</td>
<td>1024M</td>
<td>1024M</td>
<td>4096M</td>
<td>4096M</td>
</tr>
<tr>
<td></td>
<td>MAX</td>
<td>4096M</td>
<td>4096M</td>
<td>4096M</td>
<td>6144M</td>
<td>6144M</td>
</tr>
</tbody>
</table>
<ul>
<li>The remainder of free memory is assumed to be taken or used by the remaining ISLE containers e.g. <code>isle-apache</code> or <code>isle-mysql</code> as needed.</li>
<li>
<p>If you would like to specifically set memory by container which is <strong>out of scope</strong> of current ISLE setups and documentation, please read more in the <a href="https://docs.docker.com/compose/compose-file/">Docker-compose documentation</a> under the <code>Resources</code> section or search by the term <code>mem_limit</code>.</p>
</li>
<li>
<p>KEY</p>
</li>
<li>MAX = JAVA_MAX_MEM (<em>you'll adjust these settings in the docker-compose.*.yml file</em>)</li>
<li>MIN = JAVA_MIN_MEM (<em>you'll adjust these settings in the docker-compose.*.yml file</em>)</li>
</ul>
<hr />
<h3 id="high-volume-ingest">High Volume Ingest</h3>
<p>When planning for ingesting objects at a high volume and rate, it would be highly advisable to consider the following prior to starting any large ingest:</p>
<ul>
<li>As the Apache container will be under a high load to create derivatives:</li>
<li>Add a minimum of at least <code>4 GB</code> of memory to your Staging and Production systems.</li>
<li>
<p>If possible, add an additional <code>1 -2 CPUs</code> to your Staging and Production systems.</p>
</li>
<li>
<p>Anticipate the size of the incoming objects or collections (data) to be ingested and double-check that you have storage capacity on your Staging and Production systems.</p>
</li>
<li>This can vary greatly depending on content types and size of objects to be ingested.</li>
<li>A good rule of thumb is to conservatively factor in that newly created derivatives and additional datastreams will take up to 1.25 to 1.5 x your storage space.  <ul>
<li>For example if an ISLE enduser has <code>50 GB</code> of tiffs to be ingested, they should plan on having a minimum of <code>60 - 75 GB</code> of available storage space. This isn't always a hard and fast rule but will avoid situations where space runs out mid-ingest.</li>
</ul>
</li>
</ul>
<hr />
<h4 id="varnish-allocation-for-a-production-system">Varnish allocation for a Production system</h4>
<ul>
<li><strong>Example configuration</strong> for a Production ISLE host server using <code>16 GB</code> of memory.</li>
<li>Expect to allocate about 40 - 50% of the host server memory for all of the Java / Tomcat based images<ul>
<li><code>isle-fedora</code> should have the most e.g. <code>4096 MB</code> or <code>4 GB</code></li>
<li><code>isle-solr</code> should have the second most e.g. <code>2048 MB</code> or <code>2 GB</code></li>
<li><code>isle-imageservices</code> should have the third most e.g. <code>1024 MB</code> or <code>1 GB</code></li>
<li>If using <code>isle-blazegraph</code>, this image should also be using a minimum of <code>4096 MB</code> or <code>4 GB</code> of memory</li>
</ul>
</li>
<li>Keep about <code>2 -3 GB</code> free for the remaining images e.g. <code>isle-apache</code>, <code>isle-mysql</code> etc.<ul>
<li>This would leave you roughly <code>1 - 2 GB</code> to allocate to the Varnish cache. Start with <code>256</code> to <code>512 MB</code> and work your way up as needed.</li>
<li>You can adjust the amount that Varnish puts into memory in the supplied <code>.env</code> file<ul>
<li>On the line: <code>VARNISH_MALLOC=256m</code> you can change the amount of memory to a higher value other than the default <code>256</code> Megabytes. We recommend that you start with 1-2 GB for now to tune further as your resources and needs warrant.</li>
</ul>
</li>
</ul>
</li>
<li>There are additional potential memory allocation and tuning recommendations for Varnish from <a href="https://info.varnish-software.com/blog/understanding-varnish-cache-memory-usage">Varnish-software</a></li>
<li>
<p>If you need to read more about how to use or change Varnish's cache settings, please start <a href="https://varnish-cache.org/docs/4.1/users-guide/storage-backends.html">here</a></p>
</li>
<li>
<p><strong>Recommendation</strong> Adding more memory to the Production ISLE host system from the default recommended <code>16 GB</code> might be recommended here if running all optional components e.g. <code>isle-varnish</code>,  <code>isle-blazegraph</code>, the TICK stack, etc.</p>
</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../extra.js"></script>
      
    
  </body>
</html>