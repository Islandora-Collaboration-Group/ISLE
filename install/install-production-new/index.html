
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for ISLandora Enterprise (ISLE)">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.0">
    
    
      
        <title>Production: New Site - ISLandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a3f8f96a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#production-isle-installation-new-site" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-header__button md-logo" aria-label="ISLandora Enterprise (ISLE)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ISLandora Enterprise (ISLE)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Production: New Site
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-nav__button md-logo" aria-label="ISLandora Enterprise (ISLE)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ISLandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Get Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
      
      <label class="md-nav__link" for="nav-2">
        Install ISLE
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Install ISLE" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Install ISLE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../host-hardware-requirements/" class="md-nav__link">
        1. Hardware Requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../host-software-dependencies/" class="md-nav__link">
        2. Software Dependencies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-demo/" class="md-nav__link">
        3. Demo ISLE Installation
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" checked>
      
      <label class="md-nav__link" for="nav-2-4">
        4. ISLE Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="4. ISLE Installation" data-md-level="2">
        <label class="md-nav__title" for="nav-2-4">
          <span class="md-nav__icon md-icon"></span>
          4. ISLE Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-environments/" class="md-nav__link">
        Overview: ISLE Environments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-local-new/" class="md-nav__link">
        Local: New Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-local-migrate/" class="md-nav__link">
        Local: Migrate Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-staging-new/" class="md-nav__link">
        Staging: New Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-staging-migrate/" class="md-nav__link">
        Staging: Migrate Site
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Production: New Site
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Production: New Site
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-of-instructions" class="md-nav__link">
    Index of Instructions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-local-configure-the-isle-production-environment-profile-for-deploy-to-remote" class="md-nav__link">
    On Local - Configure the ISLE Production environment profile for deploy to Remote
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-on-local-export-the-local-mysql-database" class="md-nav__link">
    Step 1: On Local - Export the Local MySQL Database
  </a>
  
    <nav class="md-nav" aria-label="Step 1: On Local - Export the Local MySQL Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-the-local-mysql-islandora-drupal-database" class="md-nav__link">
    Export the Local MySQL Islandora Drupal Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-on-local-shutdown-any-local-containers-review-local-code" class="md-nav__link">
    Step 2: On Local - Shutdown Any Local Containers &amp; Review Local Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-on-local-create-new-users-and-passwords-by-editing-productionenv" class="md-nav__link">
    Step 3: On Local - Create New Users and Passwords by Editing "production.env"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-on-local-review-and-edit-docker-composeproductionyml" class="md-nav__link">
    Step 4: On Local - Review and Edit "docker-compose.production.yml"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4a-on-local-optional-changes-for-docker-composeproductionyml" class="md-nav__link">
    Step 4A: On Local - (Optional) Changes for "docker-compose.production.yml"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-on-local-production-if-using-commercial-ssls" class="md-nav__link">
    Step 5: On Local Production - If Using Commercial SSLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-on-local-commit-isle-code-to-git-repository" class="md-nav__link">
    Step 6: On Local - Commit ISLE Code to Git Repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-remote-production-configure-the-isle-production-environment-profile-for-launch-and-usage" class="md-nav__link">
    On Remote Production - Configure the ISLE Production Environment Profile for Launch and Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-on-remote-production-git-clone-the-isle-repository-to-the-remote-production-isle-host-server" class="md-nav__link">
    Step 7: On Remote Production - Git Clone the ISLE Repository to the Remote Production ISLE Host Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-on-remote-production-create-the-appropriate-local-data-paths-for-apache-fedora-and-log-data" class="md-nav__link">
    Step 8: On Remote Production - Create the Appropriate Local Data Paths for Apache, Fedora and Log Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-on-remote-production-clone-your-islandora-code" class="md-nav__link">
    Step 9: On Remote Production - Clone Your Islandora Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-on-remote-production-copy-over-the-local-islandora-drupal-files-directory" class="md-nav__link">
    Step 10: On Remote Production - Copy Over the Local Islandora Drupal Files Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-11-on-remote-production-if-using-lets-encrypt" class="md-nav__link">
    Step 11: On Remote Production - If Using Let's Encrypt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-12-on-remote-production-edit-the-env-file-to-change-to-the-production-environment" class="md-nav__link">
    Step 12: On Remote Production - Edit the ".env" File to Change to the Production Environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-13-on-remote-production-download-the-isle-images" class="md-nav__link">
    Step 13: On Remote Production - Download the ISLE Images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-14-on-remote-production-start-containers" class="md-nav__link">
    Step 14: On Remote Production - Start Containers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-15-on-remote-production-import-the-local-mysql-drupal-database" class="md-nav__link">
    Step 15: On Remote Production - Import the Local MySQL Drupal Database
  </a>
  
    <nav class="md-nav" aria-label="Step 15: On Remote Production - Import the Local MySQL Drupal Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-the-local-mysql-islandora-drupal-database" class="md-nav__link">
    Import the Local MySQL Islandora Drupal Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-16-on-remote-production-run-the-fix-permissionssh-script" class="md-nav__link">
    Step 16: On Remote Production - Run the "fix-permissions.sh" Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-17-on-remote-production-review-and-test-the-drupal-production-site" class="md-nav__link">
    Step 17: On Remote Production - Review and Test the Drupal Production Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    Additional Resources
  </a>
  
    <nav class="md-nav" aria-label="Additional Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#end-of-production-isle-installation-new-site" class="md-nav__link">
    End of Production ISLE Installation: New Site
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-production-migrate/" class="md-nav__link">
        Production: Migrate Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install-troubleshooting/" class="md-nav__link">
        Troubleshooting Guide
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4-9" type="checkbox" id="nav-2-4-9" >
      
      <label class="md-nav__link" for="nav-2-4-9">
        Optional Components
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Optional Components" data-md-level="3">
        <label class="md-nav__title" for="nav-2-4-9">
          <span class="md-nav__icon md-icon"></span>
          Optional Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/components/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/automated-testing/" class="md-nav__link">
        Automated Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/blazegraph/" class="md-nav__link">
        Blazegraph
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/loc-proxy/" class="md-nav__link">
        Loc.gov Proxy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/matomo/" class="md-nav__link">
        Matomo Analytics Platform
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/tickstack/" class="md-nav__link">
        TICK Stack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/varnish/" class="md-nav__link">
        Varnish
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../update/update/" class="md-nav__link">
        Update ISLE
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Appendices
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Appendices" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Appendices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/data-persistence/" class="md-nav__link">
        Data Persistence in Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/installing-module-with-composer/" class="md-nav__link">
        Installing a Drupal Module with Composer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/installing-module-with-drush/" class="md-nav__link">
        Installing a Drupal Module with Drush
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.google.com/document/d/1r-I9n8mUhlJ5Z-X9AO-RrikhzH6I8bTPIL25LmtRbxE" class="md-nav__link">
        Installing on Google Cloud Platform (Google Doc)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/configuring-lets-encrypt/" class="md-nav__link">
        Let's Encrypt: Free SSL Certificates
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/open-terminal-in-running-container/" class="md-nav__link">
        Opening a Terminal in a Running Container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/sample-it-department-request/" class="md-nav__link">
        Sample IT Department Request Letter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/server-setups/" class="md-nav__link">
        Sample Server Setups
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/install-troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11" type="checkbox" id="nav-4-11" >
      
      <label class="md-nav__link" for="nav-4-11">
        User Stories
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Stories" data-md-level="2">
        <label class="md-nav__title" for="nav-4-11">
          <span class="md-nav__icon md-icon"></span>
          User Stories
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-demo-site/" class="md-nav__link">
        Demo ISLE Installation Example User Story
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-new-site/" class="md-nav__link">
        New Site Example User Story
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-migration-site/" class="md-nav__link">
        Migration Example User Story
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/redhat/" class="md-nav__link">
        Warning about Red Hat Install
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Cookbook Recipes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cookbook Recipes" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Cookbook Recipes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/isle-cheatsheet-docker-commands/" class="md-nav__link">
        ISLE Cheat Sheet: Docker Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/multi_importer_installation/" class="md-nav__link">
        Setting Up and Testing the Islandora Multi Importer (IMI) Module
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/example-aws-configuration/" class="md-nav__link">
        Example AWS Storage Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/boot-from-external-drive/" class="md-nav__link">
        How to Boot From External Drive
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/isle-v140-git-cleanup/" class="md-nav__link">
        Cleanup ISLE git repository for Release v.1.4.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/previous-release-docs/" class="md-nav__link">
        Finding and Using Documentation for a Previous Release
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        Specifications
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Specifications" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          Specifications
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/resource-matrix/" class="md-nav__link">
        Resource Allocation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about-isle/" class="md-nav__link">
        About ISLE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        Contributing to ISLE
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3" >
      
      <label class="md-nav__link" for="nav-7-3">
        Contributor Docs
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Contributor Docs" data-md-level="2">
        <label class="md-nav__title" for="nav-7-3">
          <span class="md-nav__icon md-icon"></span>
          Contributor Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-docs/mkdocs/" class="md-nav__link">
        Docs: MkDocs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-docs/spell-checker/" class="md-nav__link">
        Docs: Spell Checker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-docs/style-guide/" class="md-nav__link">
        Docs: Style Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-docs/testing-guide/" class="md-nav__link">
        Testing Guide
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/get-help/" class="md-nav__link">
        Get Help
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-docs/release-process/" class="md-nav__link">
        Release Process
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        Release Notes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-3/" class="md-nav__link">
        Latest release: 1.5.3
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2" >
      
      <label class="md-nav__link" for="nav-8-2">
        Previous releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Previous releases" data-md-level="2">
        <label class="md-nav__title" for="nav-8-2">
          <span class="md-nav__icon md-icon"></span>
          Previous releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-2/" class="md-nav__link">
        1.5.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-1/" class="md-nav__link">
        1.5.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-0/" class="md-nav__link">
        1.5.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-2/" class="md-nav__link">
        1.4.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-1/" class="md-nav__link">
        1.4.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-0/" class="md-nav__link">
        1.4.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-3-0/" class="md-nav__link">
        1.3.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-2-0/" class="md-nav__link">
        1.2.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-2/" class="md-nav__link">
        1.1.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-1/" class="md-nav__link">
        1.1.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-0/" class="md-nav__link">
        1.1.0
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-of-instructions" class="md-nav__link">
    Index of Instructions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-local-configure-the-isle-production-environment-profile-for-deploy-to-remote" class="md-nav__link">
    On Local - Configure the ISLE Production environment profile for deploy to Remote
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-on-local-export-the-local-mysql-database" class="md-nav__link">
    Step 1: On Local - Export the Local MySQL Database
  </a>
  
    <nav class="md-nav" aria-label="Step 1: On Local - Export the Local MySQL Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-the-local-mysql-islandora-drupal-database" class="md-nav__link">
    Export the Local MySQL Islandora Drupal Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-on-local-shutdown-any-local-containers-review-local-code" class="md-nav__link">
    Step 2: On Local - Shutdown Any Local Containers &amp; Review Local Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-on-local-create-new-users-and-passwords-by-editing-productionenv" class="md-nav__link">
    Step 3: On Local - Create New Users and Passwords by Editing "production.env"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-on-local-review-and-edit-docker-composeproductionyml" class="md-nav__link">
    Step 4: On Local - Review and Edit "docker-compose.production.yml"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4a-on-local-optional-changes-for-docker-composeproductionyml" class="md-nav__link">
    Step 4A: On Local - (Optional) Changes for "docker-compose.production.yml"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-on-local-production-if-using-commercial-ssls" class="md-nav__link">
    Step 5: On Local Production - If Using Commercial SSLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-on-local-commit-isle-code-to-git-repository" class="md-nav__link">
    Step 6: On Local - Commit ISLE Code to Git Repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-remote-production-configure-the-isle-production-environment-profile-for-launch-and-usage" class="md-nav__link">
    On Remote Production - Configure the ISLE Production Environment Profile for Launch and Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-on-remote-production-git-clone-the-isle-repository-to-the-remote-production-isle-host-server" class="md-nav__link">
    Step 7: On Remote Production - Git Clone the ISLE Repository to the Remote Production ISLE Host Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-on-remote-production-create-the-appropriate-local-data-paths-for-apache-fedora-and-log-data" class="md-nav__link">
    Step 8: On Remote Production - Create the Appropriate Local Data Paths for Apache, Fedora and Log Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-on-remote-production-clone-your-islandora-code" class="md-nav__link">
    Step 9: On Remote Production - Clone Your Islandora Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-on-remote-production-copy-over-the-local-islandora-drupal-files-directory" class="md-nav__link">
    Step 10: On Remote Production - Copy Over the Local Islandora Drupal Files Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-11-on-remote-production-if-using-lets-encrypt" class="md-nav__link">
    Step 11: On Remote Production - If Using Let's Encrypt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-12-on-remote-production-edit-the-env-file-to-change-to-the-production-environment" class="md-nav__link">
    Step 12: On Remote Production - Edit the ".env" File to Change to the Production Environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-13-on-remote-production-download-the-isle-images" class="md-nav__link">
    Step 13: On Remote Production - Download the ISLE Images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-14-on-remote-production-start-containers" class="md-nav__link">
    Step 14: On Remote Production - Start Containers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-15-on-remote-production-import-the-local-mysql-drupal-database" class="md-nav__link">
    Step 15: On Remote Production - Import the Local MySQL Drupal Database
  </a>
  
    <nav class="md-nav" aria-label="Step 15: On Remote Production - Import the Local MySQL Drupal Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-the-local-mysql-islandora-drupal-database" class="md-nav__link">
    Import the Local MySQL Islandora Drupal Database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-16-on-remote-production-run-the-fix-permissionssh-script" class="md-nav__link">
    Step 16: On Remote Production - Run the "fix-permissions.sh" Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-17-on-remote-production-review-and-test-the-drupal-production-site" class="md-nav__link">
    Step 17: On Remote Production - Review and Test the Drupal Production Site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    Additional Resources
  </a>
  
    <nav class="md-nav" aria-label="Additional Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#end-of-production-isle-installation-new-site" class="md-nav__link">
    End of Production ISLE Installation: New Site
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="production-isle-installation-new-site">Production ISLE Installation: New Site</h1>
<p><em>Expectations:  It takes an average of <strong>2-4+ hours</strong> to read this documentation and complete this installation.</em></p>
<p>This Production ISLE Installation will use the themed Drupal website created during the <a href="../install-local-new/">Local ISLE Installation: New Site</a> process and will create an empty Fedora repository for remote (non-local or cloud) hosting of a Production site. Islandora Drupal site code here should be considered finished and ready for public access. The previously used Production system might have Fedora data &amp; collections that should then be synced to this Production site or end users can choose to only ingest on Production. It is recommended that this remote site not be publicly accessible until ready to launch.</p>
<p>While this installation will get you a brand new Production site, it is <strong>not</strong> intended as a migration process of a previously existing Islandora site. If you need to build a Production environment to migrate a previously existing Islandora site, please use the <a href="../install-production-migrate/">Production ISLE Installation: Migrate Existing Islandora Site</a> instead.</p>
<p>As this Production domain will require a real domain name or <a href="https://kb.iu.edu/d/aiuv">FQDN</a>, you will need to ask your IT department or appropriate resource for an "A record" to be added for your domain to "point" to your Production Host Server IP address in your institution's DNS records. </p>
<p>Example:<code>https://yourprojectnamehere.institution.edu</code></p>
<p>Once this has been completed, if you do not want to use Let's Encrypt, you can also request commercial SSL certificates from your IT department for this domain as well. Please note the DNS records will need to exist prior to the creation of any SSL certificate (Commercial or Let's Encrypt.)</p>
<p>Unlike the Local and Demo setups, you will not have to edit <code>/etc/localhosts</code> to view your domain given that DNS is now involved. Your new domain will no longer use the <code>.localdomain</code> but instead something like <code>https://yourprojectnamehere.institution.edu</code></p>
<p>This document also has directions on how you can save newly created ISLE and Islandora code into a git software repository as a workflow process designed to manage and upgrade the environments throughout the development process from Local to Production and finally to Production. The <a href="../install-environments/">ISLE Installation: Environments</a> documentation can also help with explaining the new ISLE structure, the associated files and what values ISLE end-users should use for the <code>.env</code>, <code>production.env</code>, etc.</p>
<p>Please post questions to the public <a href="https://groups.google.com/forum/#!forum/islandora-isle">Islandora ISLE Google group</a>, or subscribe to receive emails. The <a href="../../appendices/glossary/">Glossary</a> defines terms used in this documentation.</p>
<h2 id="assumptions-prerequisites">Assumptions / Prerequisites</h2>
<ul>
<li>
<p>This Production ISLE installation is intended for a brand new ISLE site for ingest and public use on a remote ISLE host server.</p>
<ul>
<li>All materials are to be "migrated" from the work you performed on your personal computer from the prior steps and processes in <a href="../install-local-new/">Local ISLE Installation: New Site</a> instructions.</li>
</ul>
</li>
<li>
<p>You will be using ISLE version <strong>1.2.0</strong> or higher.</p>
</li>
<li>
<p>You are using Docker-compose <strong>1.24.0</strong> or higher.</p>
</li>
<li>
<p>You have git installed on your personal computer as well as the remote ISLE host server.</p>
</li>
<li>
<p>You have already provisioned a remote ISLE hosts server and have documented its IP address.</p>
<ul>
<li>You may have used the <a href="https://github.com/Islandora-Collaboration-Group/ISLE-Ansible">ISLE Ansible script</a> to accomplish this.</li>
<li>If doing this manually, please review the following to ensure the remote Production ISLE host server has all dependencies e.g. CPU, memory and disk space prior to deploying the ISLE Production environment profile for deploy<ul>
<li><a href="../host-hardware-requirements/">Hardware Requirements</a></li>
<li><a href="../host-software-dependencies/">Software Dependencies</a></li>
</ul>
</li>
<li>This server should be running at the time of deploy.</li>
<li>This server has enough disk space to store a large Fedora repository e.g. 1-5 TB or larger depending on how many objects you plan on ingesting.  </li>
</ul>
</li>
<li>
<p>You have already created the two private git repositories for your projects ISLE and Islandora code in <a href="https://github.com">Github</a>, <a href="https://bitbucket.org/">Bitbucket</a>, <a href="https://gitlab.com">Gitlab</a>, etc. having followed Step 2 from the <a href="../install-local-new/">Local ISLE Installation: New Site</a> instructions. You will continue to use these two git repositories for all environments.</p>
<ol>
<li>ISLE project config - e.g. <code>yourprojectnamehere-isle</code></li>
<li>Islandora Drupal site code - e.g. <code>yourprojectnamehere-islandora</code></li>
</ol>
</li>
<li>
<p>You have already have the appropriate A record entered into your institutions DNS system and can resolve the Production domain (https://yourprojectnamehere.institution.edu) using a tool like https://www.whatsmydns.net/</p>
</li>
<li>
<p>You have reviewed the <a href="../install-environments/">ISLE Installation: Environments</a> for more information about suggested Production values.</p>
</li>
<li>
<p>You are familiar with using tools like <code>scp, cp or rsync</code> to move configurations, files and data from your local to the remote Production server.</p>
</li>
</ul>
<hr />
<h2 id="index-of-instructions">Index of Instructions</h2>
<p>This process will differ slightly from previous builds in that there is work to be done on the local to then be pushed to the Production ISLE Host server with additional followup work to be performed on the remote Production ISLE Host server.</p>
<p>The instructions that follow below will have either a <code>On Local</code> or a <code>On Remote Production</code> pre-fix to indicate where the work and focus should be. In essence, the git workflow established during the local build process will be extended for deploying on Production and for future ISLE updates and upgrades.</p>
<p><strong>Steps 1-6: On Local - Configure the ISLE Production Environment Profile for Deploy to Remote</strong></p>
<ul>
<li>Step 1: On Local - Export the Local MySQL Database
        * Export the Local MySQL Islandora Drupal Database</li>
<li>Step 2: On Local - Shutdown Any Local Containers &amp; Review Local Code</li>
<li>Step 3: On Local - Create New Users and Passwords by Editing "production.env"</li>
<li>Step 4: On Local - Review and Edit "docker-compose.production.yml"</li>
<li>Step 4A: On Local - (Optional) Changes for "docker-compose.production.yml"</li>
<li>Step 5: On Local Production - If Using Commercial SSLs</li>
<li>Step 6: On Local - Commit ISLE Code to Git Repository</li>
</ul>
<p><strong>Steps 7-17: On Remote Production - Configure the ISLE Production Environment Profile for Launch and Usage</strong></p>
<ul>
<li>Step 7: On Remote Production - Git Clone the ISLE Repository to the Remote Production ISLE Host Server</li>
<li>Step 8: On Remote Production - Create the Appropriate Local Data Paths for Apache, Fedora and Log Data</li>
<li>Step 9: On Remote Production - Clone Your Islandora Code</li>
<li>Step 10: On Remote Production - Copy Over the Local Islandora Drupal Files Directory</li>
<li>Step 11: On Remote Production - If Using Let's Encrypt</li>
<li>Step 12: On Remote Production - Edit the ".env" File to Change to the Production Environment</li>
<li>Step 13: On Remote Production - Download the ISLE Images</li>
<li>Step 14: On Remote Production - Start Containers</li>
<li>Step 15: On Remote Production - Import the Local MySQL Drupal Database</li>
<li>Step 16: On Remote Production - Run the "fix-permissions.sh" Script</li>
<li>Step 17: On Remote Production - Review and Test the Drupal Production Site</li>
</ul>
<hr />
<h2 id="on-local-configure-the-isle-production-environment-profile-for-deploy-to-remote">On Local - Configure the ISLE Production environment profile for deploy to Remote</h2>
<h2 id="step-1-on-local-export-the-local-mysql-database">Step 1: On Local - Export the Local MySQL Database</h2>
<p><strong>Prior to attempting this step, please consider the following:</strong></p>
<ul>
<li>
<p>If the end user is running multi-sites, there will be additional databases to export.</p>
</li>
<li>
<p>Do not export the <code>fedora3</code> database</p>
</li>
<li>
<p>If possible, on the production Apache web server, run <code>drush cc all</code> from the command line on the local Apache container in the <code>/var/www/html</code> directory PRIOR to any db export(s). Otherwise issues can occur on import due to all cache tables being larger than <code>innodb_log_file_size</code> allows</p>
</li>
</ul>
<h3 id="export-the-local-mysql-islandora-drupal-database">Export the Local MySQL Islandora Drupal Database</h3>
<ul>
<li>Export the MySQL database for the current Local Drupal site in use and copy it on your local in an easy to find place. In later steps you'll be directed to import this file. <strong>Please be careful</strong> performing any of these potential actions below as the process impacts your newly created and themed new Islandora site. Refer to your <code>local.env</code> for the usernames and passwords used below.<ul>
<li>You can use a MySQL GUI client for this process instead but the command line directions are only included below.</li>
<li>Shell into your currently running Local MySQL container<ul>
<li><code>docker exec -it your-mysql-containername bash</code></li>
</ul>
</li>
<li>Export the Local Islandora Drupal database. Replace the "DRUPAL_DB_USER" and "DRUPAL_DB" in the command below with the values found in your "local.env" file.<ul>
<li><code>mysqldump -u DRUPAL_DB_USER -p DRUPAL_DB &gt; local_drupal_site_082019.sql</code></li>
<li>Enter the appropriate password: value of <code>DRUPAL_DB_PASS</code> in the "local.env")</li>
<li>Upon completion, exit the MySQL container  </li>
</ul>
</li>
<li>Copy this file from the MySQL container to a location on your personal computer.<ul>
<li><code>docker cp your-mysql-containername:/local_drupal_site_082019.sql /path/to/location</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-2-on-local-shutdown-any-local-containers-review-local-code">Step 2: On Local - Shutdown Any Local Containers &amp; Review Local Code</h2>
<ul>
<li>
<p>Ensure that your ISLE and Islandora git repositories have all the latest commits and pushes from the development process that took place on your personal computer. If you haven't yet finished, do not proceed until everything is completed.</p>
</li>
<li>
<p>Once finished, open a <code>terminal</code> (Windows: open <code>Git Bash</code>)</p>
<ul>
<li>Navigate to your Local ISLE repository</li>
<li>Shut down any local containers e.g. <code>docker-compose down</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-3-on-local-create-new-users-and-passwords-by-editing-productionenv">Step 3: On Local - Create New Users and Passwords by Editing "production.env"</h2>
<ul>
<li>
<p>Open the "production.env" file in a text editor.</p>
<ul>
<li>Find each comment that begins with: <code># Replace this comment with a ...</code> and follow the commented instructions to edit the passwords, database and user names.<ul>
<li><strong>Review carefully</strong> as some comments request that you replace with <code>...26 alpha-numeric characters</code> while others request that you create an <code>...easy to read but short database name</code>.</li>
<li>It is okay if you potentially repeat the values previously entered for your local <code>(DRUPAL_DB)</code> &amp; <code>(DRUPAL_DB_USER)</code> in this Production environment but we strongly recommend not reusing all passwords for environments (e.g. <code>(DRUPAL_DB_PASS)</code> &amp; <code>(DRUPAL_HASH_SALT)</code> should be unique values for each environment).</li>
<li>In many cases the username is already pre-populated. If it doesn't have a comment directing you to change or add a value after the <code>=</code>, then don't change it.</li>
</ul>
</li>
<li>Once finished, save and close the file.</li>
</ul>
</li>
<li>
<p>Open the <code>config/apache/settings_php/settings.production.php</code> file.</p>
<ul>
<li>Find the first comment that begins with: <code># ISLE Configuration</code> and follow the commented instructions to edit the database, username and password.</li>
<li>Find the second comment that begins with: <code># ISLE Configuration</code> and follow the instructions to edit the Drupal hash salt.</li>
<li>Once finished, save and close the file.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-4-on-local-review-and-edit-docker-composeproductionyml">Step 4: On Local - Review and Edit "docker-compose.production.yml"</h2>
<ul>
<li>
<p>Review the disks and volumes on your remote Production ISLE Host server to ensure they are of an adequate capacity for your collection needs and match what has been written in the <code>docker-compose.production.yml</code> file.</p>
</li>
<li>
<p>Please read through the <code>docker-compose.production.yml</code> file as there are bind mount points that need to be configured on the host machine, to ensure data persistence. There are suggested bind mounts that the end-user can change to fit their needs or they can setup additional volumes or disks to match the suggestions.</p>
<ul>
<li>In the <code>fedora</code> service section<ul>
<li><code>- /mnt/data/fedora/datastreamStore:/usr/local/fedora/data/datastreamStore</code></li>
<li><code>- /opt/data/fedora/objectStore:/usr/local/fedora/data/objectStore</code></li>
</ul>
</li>
<li>In the <code>apache</code> service section<ul>
<li><code>- /opt/data/apache/html:/var/www/html</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Depending on your choice of SSL type (Commercial SSL files or the Let's Encrypt service), you'll need to uncomment only one line of the <code>traefik</code> services section. There are also inline instructions to this effect in the <code>docker-compose.production.yml</code> file.</p>
<ul>
<li>
<p>To use <code>Let's Encrypt for SSL</code>, uncomment:</p>
<ul>
<li><code>- ./config/proxy/acme.json:/acme.json</code></li>
</ul>
</li>
<li>
<p>To use commercial SSLs, uncomment:</p>
<ul>
<li><code>- ./config/proxy/ssl-certs:/certs:ro</code></li>
<li>Additionally you'll need to add your SSL certs (.cert, .pem, .key) files to <code>./config/proxy/ssl-certs</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Based on the choice of SSL type made above, you'll need to refer to to the <code>./config/proxy/traefik.production.toml</code> file for further configuration instructions.</p>
</li>
</ul>
<h2 id="step-4a-on-local-optional-changes-for-docker-composeproductionyml">Step 4A: On Local - (Optional) Changes for "docker-compose.production.yml"</h2>
<p>This section is for optional changes for the <code>docker-compose.production.yml</code>, end-users do not have feel like they have to make any choices here and can continue to <strong>Step 4</strong> as needed.</p>
<p>The options include PHP settings, Java Memory Allocation, MySQL configuration and use of the <a href="../../optional-components/tickstack/">TICK Stack</a></p>
<ul>
<li>
<p><em>(Optional)</em> - You can change PHP settings such as file upload limits and memory usage by uncommenting</p>
<ul>
<li>In the <code>apache</code> services section, this line:<ul>
<li><code>- ./config/apache/php_ini/php.production.ini:/etc/php/7.1/apache2/php.ini</code></li>
</ul>
</li>
<li>You'll then need to make edits in the <code>./config/apache/php_ini/php.production.ini</code> file.</li>
</ul>
</li>
<li>
<p><em>(Optional)</em> - This line is already uncommented by default in ISLE but we're calling it out here that you can changes to the suggested levels or values within the <code>./config/mysql/ISLE.cnf</code> file if needed. When setting up for the first time, it is best practice to leave these settings in place. Over time, you can experiment with further tuning and experimentation based on your project or system needs.</p>
</li>
<li>
<p><em>(Optional)</em> - You can change the suggested <code>JAVA_MAX_MEM</code> &amp; <code>JAVA_MIN_MEM</code> levels but do not exceed more than 50% of your system memory. When setting up for the first time, it is best practice to leave these settings in place as they are configured for a Production ISLE Host Server using 16 GB of RAM. Over time, you can experiment with further tuning and experimentation based on your project or system needs.</p>
</li>
<li>
<p><em>(Optional)</em> - You can opt to uncomment the TICK stack settings for monitoring but you'll need to follow the <a href="../../optional-components/tickstack/">TICK Stack</a> instructions prior to committing changes to your ISLE git repository.</p>
<ul>
<li>All TICK related code can be found at the end of all ISLE services within the <code>docker-compose.production.yml</code> file.</li>
<li><strong>Example:</strong></li>
</ul>
</li>
</ul>
<pre><code class="language-bash">  ## _(Optional)_: Uncomment lines below to run ISLE with the TICK monitoring system
  logging:
    driver: syslog
    options:
      tag: &quot;{{.Name}}&quot;
</code></pre>
<pre><code>* Uncomment the lines found in the new TICK stack services section of the `docker-compose.production.yml` file for hosting of that monitoring service on the Production ISLE Host server. This will allow the TICK - Telegraf agent to report properly to either the TICK stack on your Staging server or a remote TICK server.
* There are additional configurations to be made to files contained within `./config/tick` but you'll need to follow the [TICK Stack](../optional-components/tickstack.md) instructions prior to committing changes to your ISLE git repository.
</code></pre>
<hr />
<h2 id="step-5-on-local-production-if-using-commercial-ssls">Step 5: On Local Production - If Using Commercial SSLs</h2>
<p>If you are going to use Let's Encrypt instead, you can skip this step and move onto the next one. There will be additional steps further in this document, to help you configure it.</p>
<p>If you have decided to use Commercial SSL certs supplied to you by your IT team or appropriate resource, please continue following this step.</p>
<ul>
<li>
<p>Add your Commercial SSL certificate and key files to the <code>./config/proxy/ssl-certs</code> directory</p>
<ul>
<li><strong>Example:</strong></li>
<li><code>./config/proxy/ssl-certs/yourprojectnamehere.domain.cert</code></li>
<li><code>./config/proxy/ssl-certs/yourprojectnamehere.domain.key</code></li>
</ul>
</li>
<li>
<p>Edit the <code>./config/proxy/traefik.production.toml</code> and follow the in-line instructions. Replace the .pem &amp; .key with the name of your Production SSL certificate and associated key. Do note the positioning of the added lines. Third character indentation.</p>
</li>
</ul>
<p><strong>Note:</strong> despite the instruction examples differing on file type, (<code>.pem</code> or <code>cert</code>), either one is compatible, use what you have been given. Merely change the file type suffix accordingly.</p>
<p><strong>Example: .cert</strong></p>
<pre><code class="language-bash">    [entryPoints.https.tls]
      [[entryPoints.https.tls.certificates]]
      certFile = &quot;/certs/yourprojectnamehere.domain.cert&quot;
      keyFile = &quot;/certs/yourprojectnamehere.domain.key&quot;
</code></pre>
<p><strong>Example: .pem</strong></p>
<pre><code class="language-bash">    [entryPoints.https.tls]
      [[entryPoints.https.tls.certificates]]
      certFile = &quot;/certs/yourprojectnamehere.institution.edu.pem&quot;
      keyFile = &quot;/certs/yourprojectnamehere.institution.edu.key&quot;
</code></pre>
<hr />
<h2 id="step-6-on-local-commit-isle-code-to-git-repository">Step 6: On Local - Commit ISLE Code to Git Repository</h2>
<ul>
<li>Once you have made all of the appropriate changes to your Production profile. Please note the steps below are suggestions. You might use a different git commit message. Substitute <code>&lt;changedfileshere&gt;</code> with the actual file names and paths. You may need to do this repeatedly prior to the commit message.<ul>
<li><code>git add &lt;changedfileshere&gt;</code></li>
<li><code>git commit -m "Changes for Production"</code></li>
<li><code>git push origin master</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="on-remote-production-configure-the-isle-production-environment-profile-for-launch-and-usage">On Remote Production - Configure the ISLE Production Environment Profile for Launch and Usage</h2>
<h2 id="step-7-on-remote-production-git-clone-the-isle-repository-to-the-remote-production-isle-host-server">Step 7: On Remote Production - Git Clone the ISLE Repository to the Remote Production ISLE Host Server</h2>
<ul>
<li>
<p>This assumes you have setup an <code>Islandora</code> deploy user. If not use a different non-root user for this purpose.</p>
</li>
<li>
<p>You will also need to ensure that any <code>/home/islandora/.ssh/id_rsa.pub</code> key has been added to your git repository admin panel to allow for cloning from your two private git repositories.</p>
</li>
</ul>
<p>Since the <code>/opt</code> directory might not let you do this at first, we suggest the following workaround which you'll only need to do once. Future ISLE updates will not require this step.</p>
<ul>
<li>
<p>Shell into your Production ISLE host server as the <code>Islandora</code> user.</p>
</li>
<li>
<p>Clone your ISLE project repository with the newly committed changes for Production to the <code>Islandora</code> user home directory.</p>
<ul>
<li><code>git clone https://yourgitproviderhere.com/yourinstitutionhere/yourprojectnamehere-isle.git /home/islandora/</code></li>
<li>This may take a few minutes (2-4) depending on your server's Internet connection.</li>
</ul>
</li>
<li>
<p>Move the newly cloned directory to the <code>/opt</code> directory as the root user</p>
<ul>
<li><code>sudo mv /home/islandora/yourprojectnamehere-isle /opt/yourprojectnamehere-isle</code></li>
</ul>
</li>
<li>
<p>Fix the permissions so that the <code>islandora</code> user has access.</p>
<ul>
<li><code>sudo chown -Rv islandora:islandora /opt/yourprojectnamehere-isle</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-8-on-remote-production-create-the-appropriate-local-data-paths-for-apache-fedora-and-log-data">Step 8: On Remote Production - Create the Appropriate Local Data Paths for Apache, Fedora and Log Data</h2>
<ul>
<li>Create the <code>/opt/data</code> directory<ul>
<li><code>sudo mkdir -p /opt/data</code></li>
</ul>
</li>
<li>Change the permissions to the Islandora user.<ul>
<li><code>sudo chown -Rv islandora:islandora /opt/data</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-9-on-remote-production-clone-your-islandora-code">Step 9: On Remote Production - Clone Your Islandora Code</h2>
<ul>
<li>
<p><code>git clone git@yourgitproviderhere.com/yourinstitutionhere/yourprojectnamehere-islandora.git /opt/data/apache/html</code></p>
</li>
<li>
<p>Fix the permissions so that the <code>islandora</code> user has access.</p>
<ul>
<li><code>sudo chown -Rv islandora:islandora /opt/yourprojectnamehere-islandora</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-10-on-remote-production-copy-over-the-local-islandora-drupal-files-directory">Step 10: On Remote Production - Copy Over the Local Islandora Drupal Files Directory</h2>
<p>This <code>files</code> directory should be on your personal computer and should be copied to the remote Production server.</p>
<ul>
<li>
<p>Copy <code>~/yourprojectnamehere-isle/data/apache/html/sites/default/files</code> to <code>/opt/data/apache/html/sites/default/files</code></p>
</li>
<li>
<p>Fix the permissions so that the <code>islandora</code> user has access.</p>
<ul>
<li><code>sudo chown -Rv islandora:islandora /opt/data/apache/html/sites/default/files</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-11-on-remote-production-if-using-lets-encrypt">Step 11: On Remote Production - If Using Let's Encrypt</h2>
<p>If you are using Commercial SSLs, then please stop and move onto the next step.</p>
<p>If using Let's Encrypt, please continue to follow this step.</p>
<ul>
<li>Create an empty <code>acme.json</code> within the <code>./config/proxy/ssl-certs/</code> directory of your ISLE project.<ul>
<li><code>touch /opt/yourprojectnamehere/config/proxy/ssl-certs/acme.json</code></li>
<li><code>chmod 600 /opt/yourprojectnamehere/config/proxy/ssl-certs/acme.json</code></li>
<li>This file will be ignored by git and won't cause any errors with checking in code despite the location</li>
<li>Do note that you may need to open your firewall briefly to allow the SSL certs to be added to the <code>acme.json</code> file. This will be indicated in the following steps.</li>
<li>Open your firewall to ports 80, 443 prior to starting up the containers to ensure SSL cert creation.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-12-on-remote-production-edit-the-env-file-to-change-to-the-production-environment">Step 12: On Remote Production - Edit the ".env" File to Change to the Production Environment</h2>
<p>This step is a multi-step, involved process that allows an end-user to make appropriate changes to the <code>.env</code> and then commit it locally to git. This local commit that never gets pushed back to the git repository is critical to allow future ISLE updates or config changes.</p>
<ul>
<li>Copy the sample.env to .env. By default, the Demo environment is setup. You will need to edit this file to match the correct environment. Please note that the .env is no longer tracked by git as of ISLE version 1.5. Instructions below involving git are for ISLE versions below 1.5. However the settings recommended below for the environment can still be followed as needed.</li>
<li>
<p><code>cp sample.env .env</code></p>
</li>
<li>
<p>Edit the .env, remove the <code>local</code> settings and then commit locally (only if using an ISLE version below 1.5)</p>
<ul>
<li><code>cd /opt/yourprojectnamehere</code></li>
<li><code>vi / nano / pico /opt/yourprojectnamehere/.env</code></li>
<li>Edit <code>COMPOSE_PROJECT_NAME=</code> and replace the <code>local</code> settings with:<ul>
<li><code>COMPOSE_PROJECT_NAME=</code>  (Suggested) Add an identifiable project or institutional name plus environment e.g. acme_digital_production`</li>
</ul>
</li>
<li>Edit <code>BASE_DOMAIN=</code> and replace the <code>local</code> settings with:<ul>
<li><code>BASE_DOMAIN=</code>            (Suggested) Add the full production domain here e.g. digital.institution.edu</li>
</ul>
</li>
<li>Edit <code>CONTAINER_SHORT_ID=</code> and replace the <code>local</code> settings with:<ul>
<li><code>CONTAINER_SHORT_ID=</code>     (Suggested) Make an easy to read acronym from the letters of your institution and collection names plus environment e.g. (acme digitalcollections production) is acdcp</li>
</ul>
</li>
<li>Edit <code>COMPOSE_FILE</code> change <code>local</code> to <code>production</code><ul>
<li><code>COMPOSE_FILE=docker-compose.production.yml</code></li>
</ul>
</li>
<li>Save the file</li>
</ul>
</li>
<li>
<p>For users of ISLE version 1.5 and above, these git instructions below are not needed. The .env file is no longer tracked in git. </p>
</li>
<li>
<p>For users of ISLE versions 1.4.2 and below, you will need to continue to follow these instructions until you upgrade.</p>
<ul>
<li>
<p>Enter <code>git status</code> - You'll now see the following:</p>
</li>
<li>
<p>Enter <code>git status</code> - You'll now see the following:</p>
</li>
</ul>
</li>
</ul>
<pre><code class="language-bash">On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

    modified:   .env
</code></pre>
<ul>
<li>
<p>You'll need to add this file and commit it in git to be able to get future updates from ISLE as a process.</p>
<ul>
<li><code>git add .env</code></li>
<li><code>git commit -m "Added the edited .env configuration file for Production. DO NOT PUSH BACK TO UPSTREAM REPOSITORY - Jane Doe 8/2019"</code><ul>
<li>This is a suggested warning for users <strong>NOT TO</strong>  push back this configuration change to the main git repository. If that were done it could conflict with other setups.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>You may run into the following:</p>
</li>
</ul>
<pre><code class="language-bash">*** Please tell me who you are.

Run

  git config --global user.email &quot;you@example.com&quot;
  git config --global user.name &quot;Your Name&quot;

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: empty ident name (for &lt;islandora@yourprojectnamehere.institution.edu&gt;) not allowed  
</code></pre>
<ul>
<li>
<p>Configure your server git client but don't use the <code>--global</code> setting as that could interfere with other git repositories e.g. your Islandora Drupal code.</p>
<ul>
<li><strong>Example:</strong> Within <code>/opt/yourprojectnamehere</code></li>
<li><code>git config user.email "jane@institution.edu"</code></li>
<li><code>git config user.name "Jane Doe"</code></li>
</ul>
</li>
<li>
<p>Now re-run the commit command:</p>
</li>
</ul>
<pre><code class="language-bash">git commit -m &quot;Added the edited .env configuration file for Production. DO NOT PUSH BACK TO UPSTREAM REPOSITORY - Jane Doe 8/2019&quot;
[master 7ab3fcf9] Added the edited .env configuration file for Production. DO NOT PUSH BACK TO UPSTREAM REPOSITORY - Jane Doe 8/2019
 1 file changed, 4 insertions(+), 4 deletions(-)
</code></pre>
<hr />
<h2 id="step-13-on-remote-production-download-the-isle-images">Step 13: On Remote Production - Download the ISLE Images</h2>
<ul>
<li>Download all of the latest ISLE Docker images (<em>~6 GB of data may take 5-10 minutes</em>):</li>
<li><em>Using the same open terminal:</em><ul>
<li>Navigate to the root of your ISLE project</li>
<li><code>cd ~/opt/yourprojectnamehere</code></li>
<li><code>docker-compose pull</code></li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-14-on-remote-production-start-containers">Step 14: On Remote Production - Start Containers</h2>
<p><strong>Note:</strong> Prior to starting the launch process, it is recommended that you briefly open your firewall to allow ports 80 and 443 access to the world. You'll only need to keep this open for 3 -5 minutes and then promptly close access once the Let's Encrypt SSL certificates have been generated.</p>
<ul>
<li>
<p><em>Using the same open terminal:</em></p>
<ul>
<li><code>docker-compose up -d</code></li>
</ul>
</li>
<li>
<p>Please wait a few moments for the stack to fully come up. Approximately 3-5 minutes.</p>
</li>
<li>
<p><em>Using the same open terminal:</em></p>
<ul>
<li>View only the running containers: <code>docker ps</code></li>
<li>View all containers (both those running and stopped): <code>docker ps -a</code></li>
<li>All containers prefixed with <code>isle-</code> are expected to have a <code>STATUS</code> of <code>Up</code> (for x time).</li>
<li><strong>If any of these are not <code>UP</code>, then use <a href="../install-troubleshooting/">ISLE Installations: Troubleshooting</a> to solve before continuing below.</strong>
  <!---TODO: This could be confusing if (a) there are other, non-ISLE containers, or (b) the isle-varnish container is installed but intentionally not running, or (c) older exited ISLE containers that maybe should be removed. ---></li>
</ul>
</li>
<li>
<p>In your web browser, enter your Production site URL: <code>https://yourprojectnamehere.institution.edu</code></p>
<ul>
<li><strong>Note:</strong> You should not see any errors with respect to the SSL certifications, you should see a nice green lock padlock for the site security. If you see a red error or unknown SSL cert provider, you'll need to shut the containers down and review the previous steps taken especially if using Let's Encrypt. You may need to repeat those steps to get rid of the errors.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-15-on-remote-production-import-the-local-mysql-drupal-database">Step 15: On Remote Production - Import the Local MySQL Drupal Database</h2>
<p><strong>Prior to attempting this step, please consider the following:</strong></p>
<ul>
<li>
<p>If the end user is running multi-sites, there will be additional databases to export.</p>
</li>
<li>
<p>Do not import the <code>fedora3</code> database</p>
</li>
</ul>
<hr />
<h3 id="import-the-local-mysql-islandora-drupal-database">Import the Local MySQL Islandora Drupal Database</h3>
<ul>
<li>
<p>Copy the <code>local_drupal_site_082019.sql</code> created in Step 1 to the Remote Production server.</p>
</li>
<li>
<p>Import the exported Local MySQL database for use in the current Production Drupal site. Refer to your <code>production.env</code> for the usernames and passwords used below.</p>
<ul>
<li>You can use a MySQL GUI client for this process instead but the command line directions are only included below.</li>
<li>Run <code>docker ps</code> to determine the MySQL container name</li>
<li>Shell into your currently running Production MySQL container<ul>
<li><code>docker exec -it your-mysql-containername bash</code></li>
</ul>
</li>
<li>Import the Local Islandora Drupal database. Replace the "DRUPAL_DB_USER" and "DRUPAL_DB" in the command below with the values found in your "production.env" file.<ul>
<li><code>mysql -u DRUPAL_DB_USER -p DRUPAL_DB &lt; local_drupal_site_082019.sql</code></li>
<li>Enter the appropriate password: value of <code>DRUPAL_DB_PASS</code> in the "production.env")</li>
<li>This might take a few minutes depending on the size of the file.</li>
<li>Type <code>exit</code> to exit the container</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="step-16-on-remote-production-run-the-fix-permissionssh-script">Step 16: On Remote Production - Run the "fix-permissions.sh" Script</h2>
<ul>
<li>You'll need to fix the Drupal site permissions by running the <code>/fix-permissions.sh</code> script from the Apache container<ul>
<li>Run <code>docker ps</code> to determine the Apache container name</li>
<li>Shell into your currently running Production Apache container<ul>
<li><code>docker exec -it your-apache-containername bash</code></li>
<li><code>sh /utility-scripts/isle_drupal_build_tools/drupal/fix-permissions.sh --drupal_path=/var/www/html --drupal_user=islandora --httpd_group=www-data</code></li>
<li>This process will take 2-5 minutes</li>
<li>You should see a lot of green [ok] messages.</li>
<li>If the script appears to pause or prompt for <code>y/n</code>, DO NOT enter any values; the script will automatically answer for you.</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">For Microsoft Windows:</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">You may be prompted by Windows to:</td>
</tr>
<tr>
<td align="left">- Share the C drive with Docker.  Click Okay or Allow.</td>
</tr>
<tr>
<td align="left">- Enter your username and password. Do this.</td>
</tr>
<tr>
<td align="left">- Allow vpnkit.exe to communicate with the network.  Click Okay or Allow (accept default selection).</td>
</tr>
<tr>
<td align="left">- If the process seems to halt, check the taskbar for background windows.</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Proceed only after this message appears:</strong> "Done. 'all' cache was cleared."</li>
</ul>
<hr />
<h2 id="step-17-on-remote-production-review-and-test-the-drupal-production-site">Step 17: On Remote Production - Review and Test the Drupal Production Site</h2>
<ul>
<li>
<p>In your web browser, enter this URL: <code>https://yourprojectnamehere.institution.edu</code></p>
<ul>
<li>Please note: You should not see any errors with respect to the SSL certifications. If so, please review your previous steps especially if using Let's Encrypt. You may need to repeat those steps to get rid of the errors.</li>
</ul>
</li>
<li>
<p>Log in to the local Islandora site with the credentials ("DRUPAL_ADMIN_USER" and "DRUPAL_ADMIN_PASS") you created in "production.env".</p>
<ul>
<li><strong>Note:</strong> You are free to use previously Drupal admin or user accounts created during the Local site development process.</li>
</ul>
</li>
<li>
<p>You can decide to further QC and review the site as you wish or start to add digital collections and objects.</p>
<ul>
<li>You could also further test using the <a href="https://github.com/Islandora-Collaboration-Group/islandora-sample-objects">Islandora Sample Objects</a> as you may have done in the previous Local installation.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="next-steps">Next Steps</h2>
<p>Once you are ready to deploy your finished Drupal site, you may progress to launching the Production site publicly, lifting any firewall restrictions and allowing full Internet access on http (port 80) and https (443). Do not allow any other port to be publicly accessible.</p>
<hr />
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><a href="../install-environments/">ISLE Installation: Environments</a> help with explaining the ISLE structure, the associated files, and what values ISLE end-users should use for the ".env", "local.env", etc.</li>
<li><a href="../install-local-resources/">Local ISLE Installation: Resources</a> contains Docker container passwords and URLs for administrator testing.</li>
<li><a href="../install-troubleshooting/">ISLE Installation: Troubleshooting</a> contains help for port conflicts, non-running Docker containers, etc.</li>
</ul>
<hr />
<h3 id="end-of-production-isle-installation-new-site">End of Production ISLE Installation: New Site</h3>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../install-staging-migrate/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Staging: Migrate Site
            </div>
          </div>
        </a>
      
      
        <a href="../install-production-migrate/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Production: Migrate Site
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.217ffd95.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.926459b3.min.js"></script>
      
        <script src="../../extra.js"></script>
      
    
  </body>
</html>