
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for ISLandora Enterprise (ISLE)">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.0">
    
    
      
        <title>Ansible guide - ISLandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a3f8f96a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prerequisites-assumptions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-header__button md-logo" aria-label="ISLandora Enterprise (ISLE)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ISLandora Enterprise (ISLE)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ansible guide
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ISLandora Enterprise (ISLE)" class="md-nav__button md-logo" aria-label="ISLandora Enterprise (ISLE)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ISLandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Get Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        Install ISLE
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Install ISLE" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Install ISLE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/host-hardware-requirements/" class="md-nav__link">
        1. Hardware Requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/host-software-dependencies/" class="md-nav__link">
        2. Software Dependencies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-demo/" class="md-nav__link">
        3. Demo ISLE Installation
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" >
      
      <label class="md-nav__link" for="nav-2-4">
        4. ISLE Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="4. ISLE Installation" data-md-level="2">
        <label class="md-nav__title" for="nav-2-4">
          <span class="md-nav__icon md-icon"></span>
          4. ISLE Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-environments/" class="md-nav__link">
        Overview: ISLE Environments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-local-new/" class="md-nav__link">
        Local: New Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-local-migrate/" class="md-nav__link">
        Local: Migrate Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-staging-new/" class="md-nav__link">
        Staging: New Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-staging-migrate/" class="md-nav__link">
        Staging: Migrate Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-production-new/" class="md-nav__link">
        Production: New Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-production-migrate/" class="md-nav__link">
        Production: Migrate Site
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install/install-troubleshooting/" class="md-nav__link">
        Troubleshooting Guide
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4-9" type="checkbox" id="nav-2-4-9" >
      
      <label class="md-nav__link" for="nav-2-4-9">
        Optional Components
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Optional Components" data-md-level="3">
        <label class="md-nav__title" for="nav-2-4-9">
          <span class="md-nav__icon md-icon"></span>
          Optional Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/components/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/automated-testing/" class="md-nav__link">
        Automated Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/blazegraph/" class="md-nav__link">
        Blazegraph
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/loc-proxy/" class="md-nav__link">
        Loc.gov Proxy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/matomo/" class="md-nav__link">
        Matomo Analytics Platform
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/tickstack/" class="md-nav__link">
        TICK Stack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optional-components/varnish/" class="md-nav__link">
        Varnish
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../update/update/" class="md-nav__link">
        Update ISLE
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Appendices
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Appendices" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Appendices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/data-persistence/" class="md-nav__link">
        Data Persistence in Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/installing-module-with-composer/" class="md-nav__link">
        Installing a Drupal Module with Composer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/installing-module-with-drush/" class="md-nav__link">
        Installing a Drupal Module with Drush
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.google.com/document/d/1r-I9n8mUhlJ5Z-X9AO-RrikhzH6I8bTPIL25LmtRbxE" class="md-nav__link">
        Installing on Google Cloud Platform (Google Doc)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/configuring-lets-encrypt/" class="md-nav__link">
        Let's Encrypt: Free SSL Certificates
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/open-terminal-in-running-container/" class="md-nav__link">
        Opening a Terminal in a Running Container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/sample-it-department-request/" class="md-nav__link">
        Sample IT Department Request Letter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/server-setups/" class="md-nav__link">
        Sample Server Setups
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/install-troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-11" type="checkbox" id="nav-4-11" >
      
      <label class="md-nav__link" for="nav-4-11">
        User Stories
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Stories" data-md-level="2">
        <label class="md-nav__title" for="nav-4-11">
          <span class="md-nav__icon md-icon"></span>
          User Stories
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-demo-site/" class="md-nav__link">
        Demo ISLE Installation Example User Story
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-new-site/" class="md-nav__link">
        New Site Example User Story
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/user-story-migration-site/" class="md-nav__link">
        Migration Example User Story
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/redhat/" class="md-nav__link">
        Warning about Red Hat Install
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Cookbook Recipes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cookbook Recipes" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Cookbook Recipes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/isle-cheatsheet-docker-commands/" class="md-nav__link">
        ISLE Cheat Sheet: Docker Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/multi_importer_installation/" class="md-nav__link">
        Setting Up and Testing the Islandora Multi Importer (IMI) Module
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/example-aws-configuration/" class="md-nav__link">
        Example AWS Storage Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/boot-from-external-drive/" class="md-nav__link">
        How to Boot From External Drive
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/isle-v140-git-cleanup/" class="md-nav__link">
        Cleanup ISLE git repository for Release v.1.4.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook-recipes/previous-release-docs/" class="md-nav__link">
        Finding and Using Documentation for a Previous Release
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        Specifications
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Specifications" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          Specifications
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/resource-matrix/" class="md-nav__link">
        Resource Allocation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
      
      <label class="md-nav__link" for="nav-7">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="nav-7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about-isle/" class="md-nav__link">
        About ISLE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        Contributing to ISLE
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3" >
      
      <label class="md-nav__link" for="nav-7-3">
        Contributor Docs
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Contributor Docs" data-md-level="2">
        <label class="md-nav__title" for="nav-7-3">
          <span class="md-nav__icon md-icon"></span>
          Contributor Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/" class="md-nav__link">
        Docs: MkDocs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../spell-checker/" class="md-nav__link">
        Docs: Spell Checker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../style-guide/" class="md-nav__link">
        Docs: Style Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../testing-guide/" class="md-nav__link">
        Testing Guide
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/get-help/" class="md-nav__link">
        Get Help
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../release-process/" class="md-nav__link">
        Release Process
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        Release Notes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-3/" class="md-nav__link">
        Latest release: 1.5.3
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2" >
      
      <label class="md-nav__link" for="nav-8-2">
        Previous releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Previous releases" data-md-level="2">
        <label class="md-nav__title" for="nav-8-2">
          <span class="md-nav__icon md-icon"></span>
          Previous releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-2/" class="md-nav__link">
        1.5.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-1/" class="md-nav__link">
        1.5.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-5-0/" class="md-nav__link">
        1.5.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-2/" class="md-nav__link">
        1.4.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-1/" class="md-nav__link">
        1.4.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-4-0/" class="md-nav__link">
        1.4.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-3-0/" class="md-nav__link">
        1.3.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-2-0/" class="md-nav__link">
        1.2.0
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-2/" class="md-nav__link">
        1.1.2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-1/" class="md-nav__link">
        1.1.1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/release-1-1-0/" class="md-nav__link">
        1.1.0
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites-assumptions" class="md-nav__link">
    Prerequisites / Assumptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansible-deploy-script-explanation" class="md-nav__link">
    Ansible Deploy Script Explanation
  </a>
  
    <nav class="md-nav" aria-label="Ansible Deploy Script Explanation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installs-software-dependencies-and-tools" class="md-nav__link">
    Installs Software Dependencies and Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makes-isle-host-service-changes" class="md-nav__link">
    Makes ISLE Host Service Changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adds-users-groups-and-updates-permissions" class="md-nav__link">
    Adds Users, Groups and Updates Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installs-additional-software" class="md-nav__link">
    Installs Additional Software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansible-script-directory-structure" class="md-nav__link">
    Ansible Script Directory Structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-ansible-script-to-deploy-to-isle-host" class="md-nav__link">
    Configure Ansible Script to Deploy to ISLE Host
  </a>
  
    <nav class="md-nav" aria-label="Configure Ansible Script to Deploy to ISLE Host">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ansibledocker_installyml" class="md-nav__link">
    ansible/docker_install.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansibleinventoryyml" class="md-nav__link">
    ansible/inventory.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansibleisle-prod-projectinstitutionyml" class="md-nav__link">
    ansible/isle-prod-project.institution.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansible-commands-to-test-connection" class="md-nav__link">
    Ansible Commands to Test Connection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansible-commands-for-deploy" class="md-nav__link">
    Ansible Commands for Deploy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qc-review-checklist" class="md-nav__link">
    QC Review Checklist
  </a>
  
    <nav class="md-nav" aria-label="QC Review Checklist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    Docker Compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#islandora-user" class="md-nav__link">
    islandora User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isle-project-directory" class="md-nav__link">
    ISLE Project Directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walkthrough-using-ansible-on-a-macos-control-machine" class="md-nav__link">
    Walkthrough: Using Ansible on a MacOS Control Machine
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Ansible guide</h1>
                
                <!--- TODO: Unsure if this page is obsolete. Ask a Committer. --->

<p>You have the choice of using Ansible to deploy the Docker Host server dependencies instead of performing manual commands on either a CentOS or Ubuntu OS. The Ansible script and configuration files can be found in the root folder of the ISLE git repository in a directory named <a href="https://github.com/Islandora-Collaboration-Group/ISLE/tree/master/ansible">ansible</a>. Additionally, the Ansible script is designed to detect the chosen operating system and then install the appropriate dependencies with minimal user interaction or prior configuration.</p>
<p>Ansible is an free open source automation platform / tool which runs on Linux, Mac or BSD, doesn't use local or remote agents and is relatively easy to setup. Ansible can help with server configuration management, application deployment, task automation and IT orchestration (<em>running tasks in sequence on several different servers or devices</em>).</p>
<p>If you are not familiar with the Ansible, it is recommended to start with their documentation.</p>
<ul>
<li><a href="https://www.ansible.com/">Ansible website</a></li>
<li><a href="https://www.ansible.com/overview/how-ansible-works">What is Ansible?</a></li>
<li><a href="http://docs.ansible.com/ansible/latest/intro.html">Ansible Documentation</a></li>
</ul>
<p><strong>Notes:</strong></p>
<ul>
<li>
<p>For MacOS users using a local ISLE Host VM on their personal computer, please scroll down to line <strong>395</strong> the section called
<code>Using Ansible on MacOS</code>.</p>
</li>
<li>
<p>Windows sadly as of yet <a href="http://docs.ansible.com/ansible/latest/intro_installation.html#control-machine-requirements">cannot be used</a> as a Ansible control machine  </p>
</li>
<li>
<p>Do not use this script if running <code>Docker for Mac</code> or <code>Docker for Windows</code> as the dependencies are not required.</p>
</li>
<li>
<p>This script can be used with the supplied Vagrant profiles (Ubuntu or CentOS) found within the <a href="https://github.com/Islandora-Collaboration-Group/ISLE/tree/master/vagrant">vagrant</a> directory of the ISLE repository.</p>
</li>
</ul>
<h3 id="prerequisites-assumptions">Prerequisites / Assumptions</h3>
<ul>
<li>
<p>Familiarity or knowledge of Ansible</p>
</li>
<li>
<p>Note: The "Ansible Control Node" is the machine where Ansible is installed.</p>
</li>
<li>
<p>Ansible Control Node Requirements: Currently Ansible can be run from any machine with Python 2 (version 2.7) or Python 3 (versions 3.5 and higher) installed. Windows isn't supported for the control node. This includes Red Hat, Debian, CentOS, macOS, any of the BSDs, and so on.</p>
<ul>
<li><code>Ansible 2.2+</code> (choice of <a href="http://docs.ansible.com/ansible/latest/intro_installation.html#installing-the-control-machine">install methods</a>)</li>
<li><code>openssh</code> (2.2.x+)</li>
<li><code>git</code> (2.15.1+)</li>
<li><code>python</code> (2.7+)</li>
<li>The <a href="https://github.com/Islandora-Collaboration-Group/ISLE">ISLE project repository</a> cloned to an appropriate location.</li>
</ul>
</li>
<li>
<p>A previously created ISLE Host Server running either of these operating systems:</p>
<ul>
<li>Ubuntu 16.04 LTS</li>
<li>CentOS 7   </li>
</ul>
</li>
<li>
<p>An account with ssh access to the ISLE Host Server</p>
</li>
<li>
<p>An account with password-less sudo access on the ISLE Host Server</p>
</li>
<li>
<p>The IP of the ISLE Host server</p>
</li>
</ul>
<hr />
<h3 id="ansible-deploy-script-explanation">Ansible Deploy Script Explanation</h3>
<p>Within the <code>docker_install.yml</code> Ansible playbook, there are the following roles which perform different actions or cause different events on the ISLE Host server.</p>
<table>
<thead>
<tr>
<th>Ansible Role</th>
<th>Action / Event</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dependencies</code></td>
<td><em>Installs software dependencies and tools</em></td>
</tr>
<tr>
<td><code>users_groups</code></td>
<td><em>Adds users, groups and updates permissions as described above</em></td>
</tr>
<tr>
<td><code>docker</code></td>
<td><em>Installs Docker</em></td>
</tr>
<tr>
<td><code>docker_compose</code></td>
<td><em>Installs Docker Compose</em></td>
</tr>
<tr>
<td><code>git_clone</code></td>
<td><em>Clones the current ISLE git repository to <code>/opt/ISLE</code></em></td>
</tr>
<tr>
<td><code>docker_images</code></td>
<td><em>Pulls down the latest ISLE Docker Images from Dockerhub.com</em></td>
</tr>
</tbody>
</table>
<h4 id="installs-software-dependencies-and-tools">Installs Software Dependencies and Tools</h4>
<p>The Ansible script will deploy the following to the ISLE Host server:</p>
<table>
<thead>
<tr>
<th>Ubuntu / Debian</th>
<th>CentOS</th>
</tr>
</thead>
<tbody>
<tr>
<td>software-properties-common</td>
<td>libselinux-python</td>
</tr>
<tr>
<td>python-software-properties</td>
<td>libsemanage-python</td>
</tr>
<tr>
<td>--</td>
<td>yum-utils</td>
</tr>
<tr>
<td>ntp</td>
<td>ntp</td>
</tr>
<tr>
<td>openssh-client</td>
<td>openssh-clients</td>
</tr>
<tr>
<td>rsync</td>
<td>rsync</td>
</tr>
<tr>
<td>curl</td>
<td>curl</td>
</tr>
<tr>
<td>wget</td>
<td>wget</td>
</tr>
<tr>
<td>git</td>
<td>git</td>
</tr>
<tr>
<td>zip</td>
<td>zip</td>
</tr>
<tr>
<td>unzip</td>
<td>unzip</td>
</tr>
<tr>
<td>vim</td>
<td>vim</td>
</tr>
<tr>
<td>nano</td>
<td>nano</td>
</tr>
<tr>
<td>emacs24-nox</td>
<td>emacs</td>
</tr>
<tr>
<td>htop</td>
<td>htop</td>
</tr>
<tr>
<td>apt-transport-https</td>
<td>--</td>
</tr>
<tr>
<td>ca-certificates</td>
<td>--</td>
</tr>
</tbody>
</table>
<h4 id="makes-isle-host-service-changes">Makes ISLE Host Service Changes</h4>
<p><strong>Note:</strong> <em>Any of these services can be re-enabled post installation see appropriate documentation for opening ports on firewalls, etc.</em></p>
<table>
<thead>
<tr>
<th>Ubuntu / Debian</th>
<th>CentOS</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>enables ntp service</em></td>
<td><em>enables ntp service</em></td>
</tr>
<tr>
<td><em>disables ufw</em></td>
<td><em>disables iptables</em></td>
</tr>
<tr>
<td>--</td>
<td><em>sets selinux to permissive</em></td>
</tr>
</tbody>
</table>
<h4 id="adds-users-groups-and-updates-permissions">Adds Users, Groups and Updates Permissions</h4>
<ul>
<li>Creates the <code>islandora</code> user</li>
<li>Along with an appropriate password</li>
<li>generates a ssh key</li>
<li>bestows sudo password-less access</li>
<li>
<p>Gives the <code>islandora</code> user the ability to run Docker &amp; Docker Compose by adding the account to the Docker group.  </p>
</li>
<li>
<p>Disables <code>root</code> user access via ssh</p>
</li>
<li>Disables use of passwords with ssh.</li>
<li><em>key based access only to the ISLE Host server</em></li>
</ul>
<h4 id="installs-additional-software">Installs Additional Software</h4>
<ul>
<li>
<p>Docker</p>
</li>
<li>
<p>Docker Compose</p>
</li>
<li>
<p>Git clones the ISLE repository to <code>/opt/ISLE</code></p>
</li>
<li>
<p>Pulls down the most recent ISLE images</p>
</li>
</ul>
<h4 id="ansible-script-directory-structure">Ansible Script Directory Structure</h4>
<pre><code>ansible
├── docker_install.yml
├── host_vars
│   ├── host_local_macos_isle_localdomain.yml
│   └── isle-prod-project.institution.yml
├── inventory
└── roles
    ├── dependencies
    │   └── tasks
    │       ├── ubuntu.yml
    │       ├── main.yml
    │       └── centos.yml
    ├── docker
    │   └── tasks
    │       ├── install.yml
    │       └── main.yml
    ├── docker_compose
    │   └── tasks
    │       ├── install.yml
    │       └── main.yml
    ├── docker_images
    │   └── tasks
    │       ├── images_pull.yml
    │       └── main.yml
    ├── git_clone
    │   └── tasks
    │       ├── git_clone.yml
    │       └── main.yml
    └── users_groups
        ├── files
        │   └── islandora
        └── tasks
            ├── groups.yml
            ├── main.yml
            ├── secure.yml
            ├── ssh.yml
            └── users.yml
</code></pre>
<h3 id="configure-ansible-script-to-deploy-to-isle-host">Configure Ansible Script to Deploy to ISLE Host</h3>
<p>To configure the Ansible script to deploy to one's institutional ISLE Host Server, please review and edit the following files within the <code>ansible</code> directory.</p>
<ul>
<li><code>ansible/docker_install.yml</code></li>
<li><code>ansible/inventory</code></li>
<li><code>ansible/host_vars/isle-prod-project.institution.yml</code></li>
</ul>
<p>Basically wherever <code>isle-prod-project.institution</code> appears as a value in these three files, please replace with the appropriate ISLE Host server fully qualified domain name (<strong>FQDN</strong>) e.g. <code>yourislesite.institution.com</code></p>
<p>One can open up and edit all files in a text editor e.g. Atom, Textedit, Textwrangler, etc.</p>
<h4 id="ansibledocker_installyml"><code>ansible/docker_install.yml</code></h4>
<p><em>This is the Ansible playbook necessary to deploy software to the ISLE host server.</em></p>
<ul>
<li>At the top of the file remove <code>isle-prod-project.institution</code> and replace with the appropriate <strong>FQDN</strong>.  </li>
</ul>
<h4 id="ansibleinventoryyml"><code>ansible/inventory.yml</code></h4>
<p><em>This is the possible list of server(s) to deploy to using Ansible and its associated playbook(s).</em></p>
<p><strong>Note:</strong> These instructions below are repeated within the file itself.</p>
<ul>
<li>
<p>Line 7: remove <code>isle-prod-project.institution</code> from in between the brackets and replace with the appropriate <strong>FQDN</strong></p>
</li>
<li>
<p>Line 8: Add the appropriate ISLE Host server user account that has <code>sudo</code> passwordless permissions to the end of <code>ansible_ssh_user=</code></p>
<p><strong>Example:</strong>: <code>ansible_ssh_user=janesmith</code></p>
</li>
<li>
<p>Line 8: Add the appropriate path to this ISLE Host Server user accounts public ssh key to the end of <code>ansible_ssh_private_key_file=</code></p>
</li>
<li>
<p><strong>Example:</strong> of inventory using settings for local Ansible deploy personal computer:</p>
</li>
</ul>
<pre><code>ansible_ssh_private_key_file=/home/janesmith/.ssh/id_rsa.pub
</code></pre>
<p><strong>Note:</strong> This key is typically found on the local control (Ansible deploy personal computer) system and should have been previously copied to the appropriate ISLE Host server user account's <code>/home/islehostserver_user/.ssh/authorized_keys</code> file.</p>
<ul>
<li><strong>Final Example</strong> end result for inventory file with all settings above</li>
</ul>
<pre><code>[yourislesite.institution.com]   
yourislesite.institution.com ansible_connection=ssh ansible_ssh_user=janesmith ansible_ssh_private_key_file=/home/janesmith/.ssh/id_rsa.pub
</code></pre>
<h4 id="ansibleisle-prod-projectinstitutionyml"><code>ansible/isle-prod-project.institution.yml</code></h4>
<ul>
<li>
<p>Copy this file and rename the copy to with the appropriate <strong>FQDN</strong></p>
</li>
<li>
<p><strong>Example:</strong> of how <code>host_vars</code> directory should now contain two files:  </p>
</li>
</ul>
<pre><code>ansible
├── docker_install.yml
├── host_vars
│   ├── isle-prod-project.institution.yml
│   └── yourislesite.institution.com.yml
├── inventory
└── roles
</code></pre>
<ul>
<li>
<p>Edit the following lines within the newly created file i.e. <code>yourislesite.institution.com.yml</code> and remove the comments (#) as asked</p>
</li>
<li>
<p><strong>Note:</strong> <em>The <strong>FQDN</strong> in the <code>inventory</code> file should match this filename as well.</em></p>
</li>
</ul>
<p><strong>Examples ONLY</strong> (<em>Do not enter these literal values</em>)  </p>
<ul>
<li>
<p>Line 9: <code>ansible_ssh_host: 192.168.1.16</code></p>
<ul>
<li><em>This is the IP address of the ISLE Host server</em></li>
</ul>
</li>
<li>
<p>Line 10: <code>ansible_ssh_user: janesmith</code>  </p>
<ul>
<li><em>This is the appropriate ISLE Host server user account that has <code>sudo</code> passwordless permissions.</em></li>
</ul>
</li>
<li>
<p>Line 15: <code>pub_locale: /home/janesmith/.ssh/id_rsa.pub</code></p>
<ul>
<li><em>This is the key found on the local control (Ansible deploy personal computer) system which has been previously copied to the appropriate ISLE Host server user account's <code>/home/islehostserver_user/.ssh/authorized_keys</code> file.</em></li>
</ul>
</li>
</ul>
<hr />
<h4 id="ansible-commands-to-test-connection">Ansible Commands to Test Connection</h4>
<ul>
<li>Test if the Ansible control personal computer can connect to the ISLE Host server by running these commands. On the local Ansible control personal computer, open a terminal window and enter the following:</li>
</ul>
<pre><code>cd /path/to/ISLE/repository/ansible

ansible -i inventory isle-host-server -m ping
</code></pre>
<ul>
<li><strong>Example:</strong> output of above command (<em>IGNORE THE WARNING</em>)</li>
</ul>
<pre><code>[WARNING]: Found both group and host with same name: isle-host-server   

isle-host-server | SUCCESS =&gt; {
     &quot;changed&quot;: false,
     &quot;ping&quot;: &quot;pong&quot;
   }
</code></pre>
<p><strong>Note:</strong> <em>If SUCCESS does not appear as a value or if the wording of the prompt is in RED with "host does not exist ...", review all steps above and check the settings. Do not advance until the <strong>Example:</strong> output above matches.</em>  </p>
<h3 id="ansible-commands-for-deploy">Ansible Commands for Deploy</h3>
<ul>
<li>
<p>To deploy to the ISLE Host Server, run this command.</p>
<p><code>ansible-playbook -i inventory docker_install.yml</code></p>
</li>
</ul>
<p>Ansible will start displaying output within the terminal. If any turn red and the script terminates, please review the above settings and connectivity to the server. Attempt to rerun the script.</p>
<h3 id="qc-review-checklist">QC Review Checklist</h3>
<p>To ensure a successful deploy to the ISLE Server, please review the following to ensure that the deploy to the Islandora Host server was successful.</p>
<p>Open a terminal window on the Ansible control personal computer and <code>ssh</code> into the Islandora Host server using the appropriate end user account setup prior to the deploy.</p>
<p><strong>Example:</strong>:</p>
<p><code>ssh enduser@isle-prod-project.institution</code></p>
<hr />
<h4 id="docker">Docker</h4>
<ul>
<li>
<p>To check where Docker has been installed to, enter:  </p>
<p><code>which docker</code>    </p>
<p><strong>Example:</strong> output:      </p>
<p><code>/usr/bin/docker</code></p>
</li>
<li>
<p>To check which version of Docker has been installed, enter:</p>
<p><code>docker --version</code></p>
<p><strong>Example:</strong> output:</p>
<p><code>Docker version 17.12.0-ce, build c97c6d6</code></p>
</li>
<li>
<p>To check if Docker is running, enter:</p>
<p><code>service docker status</code>   </p>
<p><strong>Example:</strong> output:</p>
</li>
</ul>
<pre><code>Redirecting to /bin/systemctl status docker.service
● docker.service - Docker Application Container Engine
  Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)
  Active: active (running) since Thu 2018-03-18 14:36:55 EST; 1 weeks 4 days ago
    Docs: https://docs.docker.com
Main PID: 23066 (dockerd)
  Memory: 55.3M
....
</code></pre>
<ul>
<li>
<p>To check if the ISLE images have been downloaded on the ISLE Host server, enter:</p>
<p><code>docker image ls</code></p>
<p><strong>Example:</strong> output:  </p>
</li>
</ul>
<pre><code>REPOSITORY                         TAG                 IMAGE ID            CREATED             SIZE
islandoracollabgroup/isle-fedora   latest              6e2749ca2c2f        2 weeks ago         2.43GB
islandoracollabgroup/isle-apache   latest              82fe4ae16932        2 weeks ago         2.18GB
islandoracollabgroup/isle-solr     latest              7fba26c10433        2 weeks ago         784MB
islandoracollabgroup/isle-mysql    latest              f34162f1e0f8        2 weeks ago         299MB
islandoracollabgroup/isle-proxy    latest              5gdc45f1a074        2 weeks ago         199MB
</code></pre>
<h4 id="docker-compose">Docker Compose</h4>
<ul>
<li>
<p>To check where Docker-compose has been installed to, enter:  </p>
<p><code>which docker-compose</code></p>
<p><strong>Example:</strong> output:</p>
<p><code>/usr/local/bin/docker-compose</code></p>
</li>
<li>
<p>To check which version of Docker-compose has been installed, enter:</p>
<p><code>docker-compose -version</code></p>
<p><strong>Example:</strong> output:</p>
<p><code>docker-compose version 1.20.1, build 1719ceb</code></p>
</li>
</ul>
<h4 id="islandora-user"><code>islandora</code> User</h4>
<ul>
<li>
<p>To check if the <code>islandora</code> user has been created, enter:</p>
<p><code>cat /etc/passwd</code>  </p>
<p><strong>Example:</strong> output:</p>
<p><code>islandora:x:1002:1002::/home/islandora:/bin/bash</code></p>
</li>
</ul>
<h4 id="isle-project-directory">ISLE Project Directory</h4>
<ul>
<li>
<p>To check if the ISLE project git repository has been cloned to <code>/opt/ISLE</code>, enter:</p>
<p><code>ls -lh /opt/ISLE</code></p>
<p><strong>Example:</strong> output:</p>
</li>
</ul>
<pre><code>total 24K
drwxr-xr-x. 3 islandora islandora  110 Jan 17 09:17 apache
drwxr-xr-x. 5 islandora islandora   84 Jan 23 13:44 config
-rwxr-xr-x. 1 islandora islandora 2.0K Jan 18 16:58 docker-compose.yml
drwxr-xr-x. 7 islandora islandora  143 Jan 17 09:17 docs
drwxr-xr-x. 7 islandora islandora  102 Jan 17 09:17 fedora
-rwxr-xr-x. 1 islandora islandora  12K Jan 17 09:17 mkdocs.yml
drwxr-xr-x. 3 islandora islandora   54 Jan 17 09:17 mysql
drwxr-xr-x. 3 islandora islandora   54 Jan 17 09:17 proxy
-rwxr-xr-x. 1 islandora islandora 4.1K Jan 17 09:17 README.md
drwxr-xr-x. 4 islandora islandora   50 Jan 17 09:17 solr
</code></pre>
<p>Once this script has finished one can:</p>
<ul>
<li>
<p>Add any appropriate public ssh keys to <code>/home/islandora/.ssh/authorized_keys</code> prior to attempting to ssh to the Islandora Host server as the <code>islandora</code> user.</p>
</li>
<li>
<p>Add the <code>/home/islandora/.ssh/id_rsa.pub</code> key to any git repository contained within the Migration Guide. (Additional instructions appear in that guide if this process is unfamiliar.)</p>
</li>
</ul>
<p>Proceed to bottom of this page for next steps.</p>
<hr />
<h3 id="walkthrough-using-ansible-on-a-macos-control-machine">Walkthrough: Using Ansible on a MacOS Control Machine</h3>
<ul>
<li>
<p>To install <code>Ansible</code> on the end user's MacOS personal computer.</p>
<ul>
<li>
<p>Install Ansible via Python pip</p>
<ul>
<li>Follow here <a href="http://docs.ansible.com/ansible/latest/intro_installation.html#latest-releases-via-pip">http://docs.ansible.com/ansible/latest/intro_installation.html#latest-releases-via-pip</a></li>
</ul>
</li>
<li>
<p>Or install Ansible via Homebrew (better)</p>
<ul>
<li><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code></li>
<li><code>brew install ansible</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>There is a ready made Ansible script for the MacOS hosted isle.localdomain called <code>ansible/host_vars/host_local_macos_isle_localdomain.yml</code></p>
<ul>
<li>
<p>Use <code>vagrant</code> for the <code>ansible_ssh_user=</code> value in the <code>ansible/inventory</code> file</p>
</li>
<li>
<p>Use <code>~/Users/enduser/.vagrant.d/insecure_private_key</code> for the <code>ansible_ssh_private_key_file</code> value in the <code>ansible/inventory</code> file</p>
</li>
</ul>
</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code>[host_local_macos_isle_localdomain]
host_local_macos_isle_localdomain ansible_connection=ssh ansible_ssh_user=vagrant ansible_ssh_private_key_file=/Users/enduser/.vagrant.d/insecure_private_key
</code></pre>
<ul>
<li>
<p><strong>Line 13</strong> in the <code>ansible/host_vars/host_local_macos_isle_localdomain.yml</code> file will need to be edited with the correct path to the end user's id_rsa.pub  file. Change the <code>enduser</code> value to the real username. (<em>assumes the</em> <code>id_rsa.pub</code> <em>file exists!</em>)</p>
</li>
<li>
<p><strong>Line 3</strong> in the <code>ansible/docker_install.yml</code> file will need to be edited, change the value of <code>isle-prod-project.institution</code> to <code>host_local_macos_isle_localdomain</code></p>
</li>
<li>
<p>Once these files have been edited, open a terminal and enter:</p>
<ul>
<li><code>cd path_to/ISLE/ansible/</code></li>
</ul>
</li>
<li>
<p>Test the connection to the ISLE Host Vagrant Ubuntu VM</p>
<ul>
<li><code>ansible -i inventory host_local_macos_isle_localdomain -m ping</code></li>
</ul>
</li>
</ul>
<p><strong>Example:</strong> output of above command (<em>IGNORE THE WARNING</em>)</p>
<pre><code>[WARNING]: Found both group and host with same name: host_local_macos_isle_localdomain   
host_local_macos_isle_localdomain | SUCCESS =&gt; {
   &quot;changed&quot;: false,
   &quot;ping&quot;: &quot;pong&quot;
 }
</code></pre>
<p><strong>Note:</strong> <em>If SUCCESS does not appear as a value or if the wording of the prompt is in RED with "host does not exist ...", review all steps above and check the settings. Do not advance until the <strong>Example:</strong> output above matches.</em>  </p>
<ul>
<li>To deploy to the ISLE Host Server, run this command.</li>
</ul>
<p><code>ansible-playbook -i inventory docker_install.yml</code></p>
<p>Ansible will start displaying output within the terminal. If any turn red and the script terminates, please review the above settings and connectivity to the server. Attempt to rerun the script.</p>
<hr />
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.217ffd95.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.926459b3.min.js"></script>
      
        <script src="../../extra.js"></script>
      
    
  </body>
</html>